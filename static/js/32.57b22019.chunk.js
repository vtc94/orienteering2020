(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32,47,68],{22:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(14),o=a(2),s=a(11),c=a(46),i=a(12),l=a(13),u=a(1),d=a.n(u),m=a(17),p=a(3),b=a(5),h=a(56),v=(a(83),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={course:{password:Math.floor(9e3*Math.random())+1e3}},n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.removeModal=n.removeModal.bind(Object(c.a)(n)),n.clickedForm=n.clickedForm.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("popUpModal").onclick=this.removeModal,Object(h.default)()}},{key:"componentDidUpdate",value:function(){Object(h.default)()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target,o="";if(a.password.value.length<4?o="Access key must have a length of 4":""==a.type.value?o="Course type must be Line, Scatter or Score":a.startTime.value>=a.endTime.value&&(o="Course cannot end before start."),""===o){var s=new p.default;console.log(this.state.event),s.postData("/courses/createcourse/",{password:a.password.value,type:a.type.value,event:a.event.value,startTime:a.startTime.value,endTime:a.endTime.value,status:"Coming",checkPointNo:a.checkPointNo.value,firstCheckPoint:Math.round(10*Math.random())}).then((function(e){if(console.log(e),e.error)console.log(e.error),Object(m.showAlert)(e.error,5e3),t.setState(Object(r.a)({},t.state,Object(n.a)({},"error",e.error)));else{var c=new b.default;s.postData("/participants/addParticipant",{eventName:a.event.value,courseType:a.type.value,parName:c.getCookie("username")}).then((function(e){e.error?(Object(m.showAlert)(o,5e3),t.setState(Object(r.a)({},t.state,Object(n.a)({},"error",o)))):window.location.href="/events/"+a.event.value}))}}))}else Object(m.showAlert)(o,5e3),this.setState(Object(r.a)({},this.state,Object(n.a)({},"error",o)))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"newCourse",className:"newCourse card shadow-lg pt-4",onMouseDown:this.clickedForm,onMouseUp:this.clickedForm},d.a.createElement("h2",{className:"card-title mt-3"},"New course"),d.a.createElement("form",{id:"newCourseForm",className:"card-body px-0",autoComplete:"off",onSubmit:this.handleSubmit},d.a.createElement("input",{className:"input px-2 py-1 mb-2",type:"text",name:"event",value:window.sessionStorage.getItem("eventName"),disabled:!0}),d.a.createElement("br",null),d.a.createElement("select",{className:"input px-2 py-1 my-1",name:"type"},d.a.createElement("option",{defaultValue:""},"Choose a course"),d.a.createElement("option",{value:"Line"},"Line"),d.a.createElement("option",{value:"Scatter"},"Scatter"),d.a.createElement("option",{value:"Score"},"Score")),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"password",value:this.state.course.password,onChange:function(t){return e.setState(Object(r.a)({},e.state,Object(n.a)({},"course",{password:t.target.value})))},maxLength:"4",placeholder:"Access key (4 characters only)...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"startTime",onMouseDown:function(e){return e.target.type="time"},placeholder:"Start time...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"endTime",onMouseDown:function(e){return e.target.type="time"},placeholder:"End time...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-2",type:"number",name:"checkPointNo",placeholder:"Enter number of checkpoints",min:"0",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"button btn mt-3",type:"submit",value:"Submit"})))}},{key:"clickedForm",value:function(){this.setState(Object(r.a)({},this.state,Object(n.a)({},"clickedForm",!0)))}},{key:"removeModal",value:function(){this.state.clickedForm?this.setState(Object(r.a)({},this.state,Object(n.a)({},"clickedForm",null))):document.getElementById("popUpModal").remove()}}]),a}(d.a.Component));t.default=v},56:function(e,t,a){"use strict";a.r(t);var n=a(0);function r(){if(!Object(n.eId)("newCourse"))return!1;Object(n.eId)("newCourse").style.minHeight=.6*Object(n.eId)("newCourse").offsetWidth+"px",window.innerWidth>window.innerHeight?Object(n.eId)("newCourse").style.borderRadius=.07*parseInt(Object(n.eId)("newCourse").offsetHeight)+"px":Object(n.eId)("newCourse").style.borderRadius=.07*parseInt(Object(n.eId)("newCourse").offsetWidth)+"px",Object(n.eId)("newCourse").offsetWidth>Object(n.eId)("newCourse").offsetHeight?Object(n.eId)("newCourseForm").className=Object(n.eId)("newCourseForm").className.replace(" mb-5","")+" mb-3":Object(n.eId)("newCourseForm").className=Object(n.eId)("newCourseForm").className.replace(" mb-1","")+" mb-1",Object(n.eId)("newCourseForm").className=Object(n.eId)("newCourseForm").className.replace(" card-body","")+" card-body",function(e){for(var t=Object(n.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.025*t[0].offsetWidth+"px"}("input"),function(e){for(var t=Object(n.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.15*t[0].offsetWidth+"px"}("btn")}t.default=function(){Object(n.darkLightMode)("newCourse"),Object(n.darkLightMode)("input"),Object(n.darkLightMode)("button"),r();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",r)}},83:function(e,t,a){}}]);
//# sourceMappingURL=32.57b22019.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16,27,28,32,47,68],{20:function(e,t,a){"use strict";a.r(t),a.d(t,"showAlert",(function(){return r}));var r=function(e,t){if(document.getElementById("error")){var a=window.sessionStorage.getItem("removeAlert");clearTimeout(a),document.getElementById("error").remove()}var r=document.createElement("div");if(r.id="error",r.innerHTML='<div class="alert alert-warning alert-dismissible fade show" role="alert" style="text-align:center">'+e+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>',document.body.appendChild(r),-1!=t){var n=setTimeout((function(){document.getElementById("error")&&document.getElementById("error").remove()}),t);window.sessionStorage.setItem("removeAlert",n)}}},25:function(e,t,a){"use strict";a.r(t);var r=a(6),n=a(17),o=a(3),s=a(14),c=a(52),i=a(15),l=a(16),u=a(0),d=a.n(u),m=a(20),p=a(5),b=a(7),h=a(67),v=(a(98),function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={course:{password:Math.floor(9e3*Math.random())+1e3}},r.handleSubmit=r.handleSubmit.bind(Object(c.a)(r)),r.removeModal=r.removeModal.bind(Object(c.a)(r)),r.clickedForm=r.clickedForm.bind(Object(c.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("popUpModal").onclick=this.removeModal,Object(h.default)()}},{key:"componentDidUpdate",value:function(){Object(h.default)()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target,o="";if(a.password.value.length<4?o="Access key must have a length of 4":""==a.type.value?o="Course type must be Line, Scatter or Score":a.startTime.value>=a.endTime.value&&(o="Course cannot end before start."),""===o){var s=new p.default;s.postData("/courses/createcourse/",{password:a.password.value,type:a.type.value,event:a.event.value,startTime:a.startTime.value,endTime:a.endTime.value,status:"Coming",checkPointNo:a.checkPointNo.value,firstCheckPoint:Math.round(10*Math.random())}).then((function(e){if(e.error)Object(m.showAlert)(e.error,5e3),t.setState(Object(n.a)({},t.state,Object(r.a)({},"error",e.error)));else{var c=new b.default;s.postData("/participants/addParticipant",{eventName:a.event.value,courseType:a.type.value,parName:c.getCookie("username")}).then((function(e){e.error?(Object(m.showAlert)(o,5e3),t.setState(Object(n.a)({},t.state,Object(r.a)({},"error",o)))):window.location.href=window.sessionStorage.path+"events/"+a.event.value+"/"}))}}))}else Object(m.showAlert)(o,5e3),this.setState(Object(n.a)({},this.state,Object(r.a)({},"error",o)))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"newCourse",className:"newCourse card shadow-lg pt-4",onMouseDown:this.clickedForm,onMouseUp:this.clickedForm},d.a.createElement("h2",{className:"card-title mt-3"},"New course"),d.a.createElement("form",{id:"newCourseForm",className:"card-body px-0",autoComplete:"off",onSubmit:this.handleSubmit},d.a.createElement("input",{className:"input px-2 py-1 mb-2",type:"text",name:"event",value:window.sessionStorage.getItem("eventName"),disabled:!0}),d.a.createElement("br",null),d.a.createElement("select",{className:"input px-2 py-1 my-1",name:"type"},d.a.createElement("option",{defaultValue:""},"Choose a course"),d.a.createElement("option",{value:"Line"},"Line"),d.a.createElement("option",{value:"Scatter"},"Scatter"),d.a.createElement("option",{value:"Score"},"Score")),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"password",value:this.state.course.password,onChange:function(t){return e.setState(Object(n.a)({},e.state,Object(r.a)({},"course",{password:t.target.value})))},maxLength:"4",placeholder:"Access key (4 characters only)...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"startTime",onMouseDown:function(e){return e.target.type="time"},placeholder:"Start time...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-1",type:"text",name:"endTime",onMouseDown:function(e){return e.target.type="time"},placeholder:"End time...",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"input px-2 py-1 my-2",type:"number",name:"checkPointNo",placeholder:"Enter number of checkpoints",min:"0",required:!0}),d.a.createElement("br",null),d.a.createElement("input",{className:"button btn mt-3",type:"submit",value:"Submit"})))}},{key:"clickedForm",value:function(){this.setState(Object(n.a)({},this.state,Object(r.a)({},"clickedForm",!0)))}},{key:"removeModal",value:function(){this.state.clickedForm?this.setState(Object(n.a)({},this.state,Object(r.a)({},"clickedForm",null))):document.getElementById("popUpModal").remove()}}]),a}(d.a.Component));t.default=v},67:function(e,t,a){"use strict";a.r(t);var r=a(1);function n(){if(!Object(r.eId)("newCourse"))return!1;Object(r.eId)("newCourse").style.minHeight=.6*Object(r.eId)("newCourse").offsetWidth+"px",window.innerWidth>window.innerHeight?Object(r.eId)("newCourse").style.borderRadius=.07*parseInt(Object(r.eId)("newCourse").offsetHeight)+"px":Object(r.eId)("newCourse").style.borderRadius=.07*parseInt(Object(r.eId)("newCourse").offsetWidth)+"px",Object(r.eId)("newCourse").offsetWidth>Object(r.eId)("newCourse").offsetHeight?Object(r.eId)("newCourseForm").className=Object(r.eId)("newCourseForm").className.replace(" mb-5","")+" mb-3":Object(r.eId)("newCourseForm").className=Object(r.eId)("newCourseForm").className.replace(" mb-1","")+" mb-1",Object(r.eId)("newCourseForm").className=Object(r.eId)("newCourseForm").className.replace(" card-body","")+" card-body",function(e){for(var t=Object(r.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.025*t[0].offsetWidth+"px"}("input"),function(e){for(var t=Object(r.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.15*t[0].offsetWidth+"px"}("btn")}t.default=function(){Object(r.darkLightMode)("newCourse"),Object(r.darkLightMode)("input"),Object(r.darkLightMode)("button"),n();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",n)}},98:function(e,t,a){}}]);
//# sourceMappingURL=16.6f2b10e0.chunk.js.map
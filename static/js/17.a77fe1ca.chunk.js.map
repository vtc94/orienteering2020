{"version":3,"sources":["components/Alert.js","components/courses/creatorView/Participants.js","css/courses/creatorView/ParticipantsStyle.js"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","Participants","props","state","showParticipants","bind","clickedParticipantModal","removeModal","addNewParticipant","deleteParticipant","this","getParticipants","ParticipantsStyle","event","SubmitDataHelpers","postData","eventName","courseType","then","res","error","setState","participants","className","onClick","length","innerWidth","e","preventDefault","parNo","tbody","forEach","participant","push","key","value","onContextMenu","username","data-toggle","data-placement","title","onMouseDown","content","autoComplete","onSubmit","type","name","placeholder","autoFocus","modal","onclick","localStorage","ReactDOM","render","showModal","parName","target","React","Component","setStyle","eId","style","height","innerHeight","borderRadius","parseInt","offsetHeight","offsetWidth","parTable","eClass","offsetTop","input","i","setInput","darkLightMode","userAgent","navigator","vendor","opera","test","addEventListener"],"mappings":"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","file":"static/js/17.a77fe1ca.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {showAlert} from '../../Alert';\r\nimport SubmitDataHelpers from '../../helpers/SubmitDataHelpers';\r\n\r\nimport ParticipantsStyle from '../../../css/courses/creatorView/ParticipantsStyle';\r\nimport '../../../css/courses/creatorView/Participants.css';\r\nclass Participants extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n        this.showParticipants = this.showParticipants.bind(this);\r\n        this.clickedParticipantModal = this.clickedParticipantModal.bind(this);\r\n        this.removeModal = this.removeModal.bind(this);\r\n        this.addNewParticipant = this.addNewParticipant.bind(this);\r\n        this.deleteParticipant = this.deleteParticipant.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        //console.log(this.props);\r\n        this.getParticipants();\r\n        ParticipantsStyle();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        //ParticipantsStyle();\r\n    }\r\n\r\n    getParticipants(){\r\n        let event = {...this.props.event};\r\n        let helpers = new SubmitDataHelpers;\r\n        helpers.postData('/participants/getParticipants/',\r\n            {\r\n                eventName: event.eventName,\r\n                courseType: event.courseType,\r\n            }\r\n        ).then(res => {\r\n            //console.log(res);\r\n            if(!res.error){\r\n                this.setState({participants: res});\r\n            } else {\r\n                //console.log(res);\r\n                showAlert(res.error, 5000);\r\n\r\n                this.setState({error: res.error});\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <button className='button ciSubmit col-5' onClick={this.showParticipants}>\r\n                Show {this.state.participants? this.state.participants.length: 0}&nbsp;\r\n                {window.innerWidth < 576? <i className='fas fa-users'></i>: 'participants'}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    showParticipants(e){\r\n        if(e){\r\n            e.preventDefault();\r\n        }\r\n\r\n        /*if(document.getElementById(\"participants-wrap\")){\r\n            document.getElementById(\"participants-wrap\").remove();\r\n        }*/\r\n\r\n        if(document.getElementById(\"popUpModal\")){\r\n            document.getElementById(\"popUpModal\").remove();\r\n        }\r\n\r\n        let parNo = 1;\r\n        let tbody = [];\r\n        if(this.state.participants){\r\n            //console.log(this.state.participants);\r\n            let participants = this.state.participants;\r\n\r\n            participants.forEach(participant => {\r\n                tbody.push(\r\n                    <div className=\"participant tr row py-2\" \r\n                        key={participant} value={participant}\r\n                        onContextMenu={e => this.deleteParticipant(e, participant)}\r\n                    >\r\n                        <div className=\"td col-3\">{parNo}</div>\r\n                        <div className=\"td col-9\">\r\n                            {participant}\r\n                            {participant == window.sessionStorage.username? \r\n                                        '' : <i className=\"deletePar fas fa-minus-circle\" \r\n                                                data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete participant...\"\r\n                                                onMouseDown={e => this.deleteParticipant(e, participant)}\r\n                                            ></i>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                );\r\n\r\n                parNo++;\r\n            });\r\n        } else {\r\n            showAlert(this.state.error);\r\n        }\r\n\r\n        let content = [];\r\n        content.push(\r\n            <div key=\"participants\" id=\"participants\" className=\"participants card shadow-lg pt-4 px-3 px-sm-4\" onMouseDown={this.clickedParticipantModal}>\r\n                <div className=\"card-title mt-3\">\r\n                    <h2>{this.props.event.eventName}</h2>\r\n                    <h4>&#9827;&nbsp; {this.props.event.courseType} &nbsp;&#9827;</h4>\r\n                </div>\r\n                <div className=\"parTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border\">\r\n                    <div className=\"tcaption text-left pl-1 pt-1 pb-2\">Participants ( {this.state.participants? this.state.participants.length : '0'} player(s) )</div>\r\n                    <div className=\"table mx-auto border\">\r\n                        <div className=\"thead col-12\">\r\n                            <div className=\"tr row py-3\">\r\n                                <div className=\"th col-3\">No.</div>\r\n                                <div className=\"th col-9\">Username</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"tbody col-12 overflow-auto\">\r\n                            {tbody}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <form className=\"addPar col-12 d-flex justify-content-end\" autoComplete=\"off\" onSubmit={this.addNewParticipant}>\r\n                        <input className=\"input border-bottom col-5 col-sm-5 px-2\" type=\"text\" name=\"parName\" placeholder=\"Add player...\" autoFocus />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        let modal = document.createElement(\"div\");\r\n        modal.id = \"popUpModal\";\r\n        modal.className = \"popUpModal\";\r\n        modal.onclick = this.removeModal;\r\n\r\n        if(window.localStorage.getItem('darkThemeMode') == 'on'){\r\n            modal.className += \" dark-popUpModal\";   \r\n        }\r\n\r\n        document.body.appendChild(modal);\r\n        ReactDOM.render(content, modal);\r\n        ParticipantsStyle();\r\n    }\r\n\r\n    clickedParticipantModal(){\r\n        this.setState({...this.state, ['showModal']: true});\r\n        //console.log(this.state.showModal);\r\n    }\r\n\r\n    removeModal(){\r\n        //console.log(this.state.showModal);\r\n        if(!this.state.showModal){\r\n            document.getElementById(\"popUpModal\").remove();\r\n        } else{\r\n            this.setState({...this.state, ['showModal']: null});\r\n        }\r\n    }\r\n\r\n    addNewParticipant(e){\r\n        e.preventDefault();\r\n\r\n        let event = {...this.props.event};\r\n        let helpers = new SubmitDataHelpers;\r\n        helpers.postData('/participants/addParticipant/',\r\n            {\r\n                eventName: event.eventName,\r\n                courseType: event.courseType,\r\n                parName: e.target[\"parName\"].value,\r\n            }\r\n        ).then(res => {\r\n            //console.log(res);\r\n            if(!res.error){\r\n                this.setState({participants: res});\r\n                this.setState({error: null});\r\n                this.showParticipants();\r\n            } else {\r\n                showAlert(res.error, 5000);\r\n\r\n                this.setState({error: res.error});\r\n                //this.setState({participants: null});\r\n            }\r\n        });\r\n    }\r\n\r\n    deleteParticipant(e, participant){\r\n        if(participant == window.sessionStorage.username){\r\n            showAlert('You cannot remove event creator..');\r\n            return false;\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.target.innerHTML = \"<del>\" + e.target.innerHTML + \"</del>\";\r\n        let event = {...this.props.event};\r\n        let helpers = new SubmitDataHelpers;\r\n        helpers.postData('/participants/deleteParticipant/',\r\n            {\r\n                eventName: event.eventName,\r\n                courseType: event.courseType,\r\n                parName: participant,\r\n            }\r\n        ).then(res => {\r\n            //console.log(res);\r\n            if(!res.error){\r\n                this.setState({participants: res});\r\n                this.setState({error: null});\r\n            } else {\r\n                showAlert(res.error, 5000);\r\n                \r\n                this.setState({error: res.error});\r\n                this.setState({participants: null});\r\n            }\r\n\r\n            this.showParticipants();\r\n        });\r\n    }\r\n}\r\n\r\nexport default Participants;","import {eId, eClass, darkLightMode} from '../../../components/helpers/StylingHelpers';\n\nfunction ParticipantsStyle(){\n    setDarkLightMode();\n    setStyle();\n\n    var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    if (!(/android/i.test(userAgent))) {\n        window.addEventListener('resize', setStyle);\n    }\n}\n\nexport default ParticipantsStyle;\n\nfunction setDarkLightMode(){\n    darkLightMode(\"participants\");\n    darkLightMode('input');\n    darkLightMode('button');\n}\n\nfunction setStyle(){\n    if(!eId('participants')){\n        return false;\n    }\n\n    eId(\"participants\").style.height = window.innerHeight * 0.8 + 'px';\n\n    if(window.innerWidth > window.innerHeight){\n        eId('participants').style.borderRadius = parseInt(eId('participants').offsetHeight) * 0.07 + 'px';\n    } else {\n        eId('participants').style.borderRadius = parseInt(eId('participants').offsetWidth) * 0.07 + 'px';\n    }\n\n    let parTable = eClass('parTable')[0];\n    parTable.style.height = (eId(\"participants\").offsetTop + eId(\"participants\").offsetHeight - parTable.offsetTop) * 0.8 + 'px';\n    eClass('table')[0].style.height = 0 ;\n    eClass('table')[0].style.height = (eClass('addPar')[0].offsetTop - eClass('table')[0].offsetTop) - parTable.offsetHeight * 0.03 + 'px';\n    eClass('tbody')[0].style.height = eClass('table')[0].offsetHeight -  eClass('thead')[0].offsetHeight + 'px';\n    setInput('input');\n}\n\nfunction setInput(ref){\n    let input = eClass(ref);\n    for(let i = 0; i < input.length; i++){\n        input[i].style.borderRadius = input[0].offsetWidth * 0.05 + 'px';\n    }\n}"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[40,51,72],{21:function(e,t,a){"use strict";a.r(t);var i=a(4),r=a(14),n=a(2),s=a(11),c=a(46),o=a(12),p=a(13),l=a(1),d=a.n(l),u=a(47),m=a.n(u),h=a(17),b=a(3),f=a(55),v=(a(82),function(e){Object(p.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={},i.showParticipants=i.showParticipants.bind(Object(c.a)(i)),i.clickedParticipantModal=i.clickedParticipantModal.bind(Object(c.a)(i)),i.removeModal=i.removeModal.bind(Object(c.a)(i)),i.addNewParticipant=i.addNewParticipant.bind(Object(c.a)(i)),i.deleteParticipant=i.deleteParticipant.bind(Object(c.a)(i)),i}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getParticipants(),Object(f.default)()}},{key:"componentDidUpdate",value:function(){}},{key:"getParticipants",value:function(){var e=this,t=Object(r.a)({},this.props.event);(new b.default).postData("/participants/getParticipants",{eventName:t.eventName,courseType:t.courseType}).then((function(t){t.error?(Object(h.showAlert)(t.error,5e3),e.setState({error:t.error})):e.setState({participants:t})}))}},{key:"render",value:function(){return d.a.createElement("button",{className:"button ciSubmit col-5",onClick:this.showParticipants},"Show ",this.state.participants?this.state.participants.length:0,"\xa0",window.innerWidth<576?d.a.createElement("i",{className:"fas fa-users"}):"participants")}},{key:"showParticipants",value:function(e){var t=this;e&&e.preventDefault(),document.getElementById("popUpModal")&&document.getElementById("popUpModal").remove();var a=1,i=[];this.state.participants?this.state.participants.forEach((function(e){i.push(d.a.createElement("div",{className:"participant tr row py-2",key:e,value:e,onContextMenu:function(a){return t.deleteParticipant(a,e)}},d.a.createElement("div",{className:"td col-3"},a),d.a.createElement("div",{className:"td col-9"},e,e==window.sessionStorage.username?"":d.a.createElement("i",{className:"deletePar fas fa-minus-circle","data-toggle":"tooltip","data-placement":"top",title:"Delete participant...",onMouseDown:function(a){return t.deleteParticipant(a,e)}})))),a++})):Object(h.showAlert)(this.state.error);var r=[];r.push(d.a.createElement("div",{key:"participants",id:"participants",className:"participants card shadow-lg pt-4 px-3 px-sm-4",onMouseDown:this.clickedParticipantModal},d.a.createElement("div",{className:"card-title mt-3"},d.a.createElement("h2",null,this.props.event.eventName),d.a.createElement("h4",null,"\u2663\xa0 ",this.props.event.courseType," \xa0\u2663")),d.a.createElement("div",{className:"parTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border"},d.a.createElement("div",{className:"tcaption text-left pl-1 pt-1 pb-2"},"Participants ( ",this.state.participants?this.state.participants.length:"0"," player(s) )"),d.a.createElement("div",{className:"table mx-auto border"},d.a.createElement("div",{className:"thead col-12"},d.a.createElement("div",{className:"tr row py-3"},d.a.createElement("div",{className:"th col-3"},"No."),d.a.createElement("div",{className:"th col-9"},"Username"))),d.a.createElement("div",{className:"tbody col-12 overflow-auto"},i)),d.a.createElement("form",{className:"addPar col-12 d-flex justify-content-end",autoComplete:"off",onSubmit:this.addNewParticipant},d.a.createElement("input",{className:"input border-bottom col-5 col-sm-5 px-2",type:"text",name:"parName",placeholder:"Add player...",autoFocus:!0})))));var n=document.createElement("div");n.id="popUpModal",n.className="popUpModal",n.onclick=this.removeModal,"on"==window.localStorage.getItem("darkThemeMode")&&(n.className+=" dark-popUpModal"),document.body.appendChild(n),m.a.render(r,n),Object(f.default)()}},{key:"clickedParticipantModal",value:function(){this.setState(Object(r.a)({},this.state,Object(i.a)({},"showModal",!0)))}},{key:"removeModal",value:function(){this.state.showModal?this.setState(Object(r.a)({},this.state,Object(i.a)({},"showModal",null))):document.getElementById("popUpModal").remove()}},{key:"addNewParticipant",value:function(e){var t=this;e.preventDefault();var a=Object(r.a)({},this.props.event);(new b.default).postData("/participants/addParticipant",{eventName:a.eventName,courseType:a.courseType,parName:e.target.parName.value}).then((function(e){e.error?(Object(h.showAlert)(e.error,5e3),t.setState({error:e.error})):(t.setState({participants:e}),t.setState({error:null}),t.showParticipants())}))}},{key:"deleteParticipant",value:function(e,t){var a=this;if(t==window.sessionStorage.username)return Object(h.showAlert)("You cannot remove event creator.."),!1;e.preventDefault(),e.target.innerHTML="<del>"+e.target.innerHTML+"</del>";var i=Object(r.a)({},this.props.event);(new b.default).postData("/participants/deleteParticipant",{eventName:i.eventName,courseType:i.courseType,parName:t}).then((function(e){e.error?(Object(h.showAlert)(e.error,5e3),a.setState({error:e.error}),a.setState({participants:null})):(a.setState({participants:e}),a.setState({error:null})),a.showParticipants()}))}}]),a}(d.a.Component));t.default=v},55:function(e,t,a){"use strict";a.r(t);var i=a(0);function r(){if(!Object(i.eId)("participants"))return!1;Object(i.eId)("participants").style.height=.8*window.innerHeight+"px",window.innerWidth>window.innerHeight?Object(i.eId)("participants").style.borderRadius=.07*parseInt(Object(i.eId)("participants").offsetHeight)+"px":Object(i.eId)("participants").style.borderRadius=.07*parseInt(Object(i.eId)("participants").offsetWidth)+"px";var e=Object(i.eClass)("parTable")[0];e.style.height=.8*(Object(i.eId)("participants").offsetTop+Object(i.eId)("participants").offsetHeight-e.offsetTop)+"px",Object(i.eClass)("table")[0].style.height=0,Object(i.eClass)("table")[0].style.height=Object(i.eClass)("addPar")[0].offsetTop-Object(i.eClass)("table")[0].offsetTop-.03*e.offsetHeight+"px",Object(i.eClass)("tbody")[0].style.height=Object(i.eClass)("table")[0].offsetHeight-Object(i.eClass)("thead")[0].offsetHeight+"px",function(e){for(var t=Object(i.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.05*t[0].offsetWidth+"px"}("input")}t.default=function(){Object(i.darkLightMode)("participants"),Object(i.darkLightMode)("input"),Object(i.darkLightMode)("button"),r();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",r)}},82:function(e,t,a){}}]);
//# sourceMappingURL=40.6f63b396.chunk.js.map
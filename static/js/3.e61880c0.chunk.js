(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[3,36,40,48,49,51,69,70,72],{184:function(e,t){},185:function(e,t){},20:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(7),o=a.n(c),s=a(14),i=a(27),r=a(2),l=a(11),d=a(46),p=a(12),u=a(13),m=a(1),h=a.n(m),b=a(47),f=a.n(b),v=a(269),y=a.n(v),k=a(270),j=a.n(k),g=a(278),w=a.n(g),O=a(17),N=a(3),E=a(54),C=(a(81),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n.renderQRCodeList=n.renderQRCodeList.bind(Object(d.a)(n)),n.clickedqrCodesModal=n.clickedqrCodesModal.bind(Object(d.a)(n)),n.removeModal=n.removeModal.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getCheckPoints(),Object(E.default)()}},{key:"componentDidUpdate",value:function(){}},{key:"getCheckPoints",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,c,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.a)({},this.props.event),a=Object(s.a)({},this.props.checkPoints),n=new N.default,e.next=5,n.postData("/checkpoints/getCheckPoints/",{checkPointNo:a.checkPointNo,firstCheckPoint:a.firstCheckPoint}).then((function(e){return e.error?(Object(O.showAlert)(e.error,5e3),console.log(e),!1):(e.forEach((function(e){e.code+="-"+t.eventName,e.code+="-"+t.courseType,e.code+="-"+a.firstCheckPoint,e.code+="-"+a.checkPointNo,e.code+="-"+e.point})),i.setState({checkPoints:e}),e)}));case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return h.a.createElement("button",{className:"button ciSubmit col-5",onClick:this.renderQRCodeList},"Show ",this.props.checkPoints.checkPointNo,"\xa0",window.innerWidth<576?h.a.createElement("i",{className:"fas fa-qrcode"}):"QRCodes")}},{key:"renderQRCodeList",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,c,s,i,r,l=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getCheckPoints();case 3:for(i in a=e.sent,n=[],c=[],s=function(e){var t=a[e];c.push(h.a.createElement("div",{className:"checkpoint tr row py-2",key:t.id,value:t.id},h.a.createElement("div",{className:"td col-2 d-flex justify-content-center align-items-center"},h.a.createElement("span",null,t.id)),h.a.createElement("div",{className:"td col-6 d-flex justify-content-center align-items-center"},h.a.createElement(y.a,{key:t.id,id:t.id,value:t.code,size:50,level:"H"})),h.a.createElement("div",{className:"td col-4 d-flex justify-content-center align-items-center"},h.a.createElement("span",null,h.a.createElement("input",{type:"number",min:"0",max:"10",defaultValue:t.point,onChange:function(t){l.updateScore(t,e)}})))))},a)s(i);return n.push(h.a.createElement("div",{key:"checkpoints",id:"checkpoints",className:"checkpoints card shadow-lg pt-4 px-3 px-sm-4",onMouseDown:this.clickedqrCodesModal},h.a.createElement("div",{className:"card-title mt-3"},h.a.createElement("h2",null,this.props.event.eventName),h.a.createElement("h4",null,"\u2663\xa0 ",this.props.event.courseType," \xa0\u2663")),h.a.createElement("div",{className:"checkpointsTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border"},h.a.createElement("div",{className:"tcaption text-left pl-1 pt-1 pb-2"},"QRCodes ( ",a?a.length:"0"," qrCode(s) )"),h.a.createElement("div",{className:"table mx-auto border"},h.a.createElement("div",{className:"thead col-12"},h.a.createElement("div",{className:"tr row py-3"},h.a.createElement("div",{className:"th col-2"},"ID"),h.a.createElement("div",{className:"th col-6"},"QRcode"),h.a.createElement("div",{className:"th col-4"},"Point"))),h.a.createElement("div",{id:"qrCodes",className:"tbody col-12 overflow-auto"},c)),h.a.createElement("div",{className:"downloadqrCodes col-12 d-flex justify-content-end"},h.a.createElement("button",{className:"btn border-bottom col-8 col-sm-5 px-2",onClick:this.downloadQRCode},window.innerWidth>576?"Download":h.a.createElement("i",{className:"fas fa-download"}),"\xa0",this.props.checkPoints.checkPointNo," QRCodes"))))),(r=document.createElement("div")).id="popUpModal",r.className="popUpModal",r.onclick=this.removeModal,"on"==window.localStorage.getItem("darkThemeMode")&&(r.className+=" dark-popUpModal"),document.body.appendChild(r),e.next=17,f.a.render(n,r);case 17:Object(E.default)();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickedqrCodesModal",value:function(){this.setState(Object(s.a)({},this.state,Object(n.a)({},"showModal",!0)))}},{key:"removeModal",value:function(){this.state.showModal?this.setState(Object(s.a)({},this.state,Object(n.a)({},"showModal",null))):document.getElementById("popUpModal").remove()}},{key:"updateScore",value:function(e,t){var a=this.state.checkPoints;a[t].point=e.target.value,a[t].code=a[t].code.substring(0,a[t].code.length-2)+"-"+e.target.value,this.setState({checkPoints:a})}},{key:"updateMsg",value:function(e,t){}},{key:"downloadQRCode",value:function(){var e=window.sessionStorage.getItem("eventName"),t=window.sessionStorage.getItem("courseType"),a=new j.a,n=a.folder("QRCodes("+e+"-"+t+")"),c=document.getElementById("qrCodes").getElementsByTagName("canvas");Object.keys(c).forEach((function(e){document.createElement("a");var t=c[e].toDataURL().replace(/^data:image\/(png|jpg);base64,/,"");n.file("check_point_"+e+".jpg",t,{base64:!0})})),a.generateAsync({type:"blob"}).then((function(a){w.a.saveAs(a,"QRCodes("+e+"-"+t+").zip")}))}}]),a}(h.a.Component));t.default=C},21:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(14),o=a(2),s=a(11),i=a(46),r=a(12),l=a(13),d=a(1),p=a.n(d),u=a(47),m=a.n(u),h=a(17),b=a(3),f=a(55),v=(a(82),function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n.showParticipants=n.showParticipants.bind(Object(i.a)(n)),n.clickedParticipantModal=n.clickedParticipantModal.bind(Object(i.a)(n)),n.removeModal=n.removeModal.bind(Object(i.a)(n)),n.addNewParticipant=n.addNewParticipant.bind(Object(i.a)(n)),n.deleteParticipant=n.deleteParticipant.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getParticipants(),Object(f.default)()}},{key:"componentDidUpdate",value:function(){}},{key:"getParticipants",value:function(){var e=this,t=Object(c.a)({},this.props.event);(new b.default).postData("/participants/getParticipants/",{eventName:t.eventName,courseType:t.courseType}).then((function(t){t.error?(Object(h.showAlert)(t.error,5e3),e.setState({error:t.error})):e.setState({participants:t})}))}},{key:"render",value:function(){return p.a.createElement("button",{className:"button ciSubmit col-5",onClick:this.showParticipants},"Show ",this.state.participants?this.state.participants.length:0,"\xa0",window.innerWidth<576?p.a.createElement("i",{className:"fas fa-users"}):"participants")}},{key:"showParticipants",value:function(e){var t=this;e&&e.preventDefault(),document.getElementById("popUpModal")&&document.getElementById("popUpModal").remove();var a=1,n=[];this.state.participants?this.state.participants.forEach((function(e){n.push(p.a.createElement("div",{className:"participant tr row py-2",key:e,value:e,onContextMenu:function(a){return t.deleteParticipant(a,e)}},p.a.createElement("div",{className:"td col-3"},a),p.a.createElement("div",{className:"td col-9"},e,e==window.sessionStorage.username?"":p.a.createElement("i",{className:"deletePar fas fa-minus-circle","data-toggle":"tooltip","data-placement":"top",title:"Delete participant...",onMouseDown:function(a){return t.deleteParticipant(a,e)}})))),a++})):Object(h.showAlert)(this.state.error);var c=[];c.push(p.a.createElement("div",{key:"participants",id:"participants",className:"participants card shadow-lg pt-4 px-3 px-sm-4",onMouseDown:this.clickedParticipantModal},p.a.createElement("div",{className:"card-title mt-3"},p.a.createElement("h2",null,this.props.event.eventName),p.a.createElement("h4",null,"\u2663\xa0 ",this.props.event.courseType," \xa0\u2663")),p.a.createElement("div",{className:"parTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border"},p.a.createElement("div",{className:"tcaption text-left pl-1 pt-1 pb-2"},"Participants ( ",this.state.participants?this.state.participants.length:"0"," player(s) )"),p.a.createElement("div",{className:"table mx-auto border"},p.a.createElement("div",{className:"thead col-12"},p.a.createElement("div",{className:"tr row py-3"},p.a.createElement("div",{className:"th col-3"},"No."),p.a.createElement("div",{className:"th col-9"},"Username"))),p.a.createElement("div",{className:"tbody col-12 overflow-auto"},n)),p.a.createElement("form",{className:"addPar col-12 d-flex justify-content-end",autoComplete:"off",onSubmit:this.addNewParticipant},p.a.createElement("input",{className:"input border-bottom col-5 col-sm-5 px-2",type:"text",name:"parName",placeholder:"Add player...",autoFocus:!0})))));var o=document.createElement("div");o.id="popUpModal",o.className="popUpModal",o.onclick=this.removeModal,"on"==window.localStorage.getItem("darkThemeMode")&&(o.className+=" dark-popUpModal"),document.body.appendChild(o),m.a.render(c,o),Object(f.default)()}},{key:"clickedParticipantModal",value:function(){this.setState(Object(c.a)({},this.state,Object(n.a)({},"showModal",!0)))}},{key:"removeModal",value:function(){this.state.showModal?this.setState(Object(c.a)({},this.state,Object(n.a)({},"showModal",null))):document.getElementById("popUpModal").remove()}},{key:"addNewParticipant",value:function(e){var t=this;e.preventDefault();var a=Object(c.a)({},this.props.event);(new b.default).postData("/participants/addParticipant/",{eventName:a.eventName,courseType:a.courseType,parName:e.target.parName.value}).then((function(e){e.error?(Object(h.showAlert)(e.error,5e3),t.setState({error:e.error})):(t.setState({participants:e}),t.setState({error:null}),t.showParticipants())}))}},{key:"deleteParticipant",value:function(e,t){var a=this;if(t==window.sessionStorage.username)return Object(h.showAlert)("You cannot remove event creator.."),!1;e.preventDefault(),e.target.innerHTML="<del>"+e.target.innerHTML+"</del>";var n=Object(c.a)({},this.props.event);(new b.default).postData("/participants/deleteParticipant/",{eventName:n.eventName,courseType:n.courseType,parName:t}).then((function(e){e.error?(Object(h.showAlert)(e.error,5e3),a.setState({error:e.error}),a.setState({participants:null})):(a.setState({participants:e}),a.setState({error:null})),a.showParticipants()}))}}]),a}(p.a.Component));t.default=v},30:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(14),o=a(2),s=a(11),i=a(46),r=a(12),l=a(13),d=a(1),p=a.n(d),u=a(17),m=a(3),h=a(4),b=a(20),f=a(21),v=a(62),y=(a(89),function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n.updateState=n.updateState.bind(Object(i.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)({},this.props.course);this.setState(e),Object(v.default)()}},{key:"componentDidUpdate",value:function(){Object(v.default)()}},{key:"render",value:function(){var e=Object(c.a)({},this.state);return e.type?p.a.createElement("div",{id:"courseInfo",className:"courseInfo pt-4"},p.a.createElement("div",{className:"title pt-5 pb-4"},p.a.createElement("h2",null,e.event),p.a.createElement("h4",null,"\u2663\xa0 ",e.type," \xa0\u2663")),p.a.createElement("form",{onSubmit:this.handleSubmit,className:"row col-12 col-sm-10 mx-auto d-flex justify-content-between"},p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"text",name:"event",value:e.event,disabled:!0}),p.a.createElement("select",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",name:"type",defaultValue:e.type,disabled:!0},p.a.createElement("option",{value:"Line"},"Line"),p.a.createElement("option",{value:"Scatter"},"Scatter"),p.a.createElement("option",{value:"Score"},"Score")),p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"text",name:"courseAccessKey",value:e.password,onChange:this.updateState,maxLength:"4",placeholder:"Access key (4 characters only)...",required:!0}),p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"time",name:"startTime",value:e.startTime,onFocus:function(e){return e.target.type="time"},onChange:this.updateState,placeholder:"Start time...",required:!0}),p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"time",name:"endTime",value:e.endTime,onFocus:function(e){return e.target.type="time"},onChange:this.updateState,placeholder:"End time...",required:!0}),p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"text",name:"status",value:"Coming...",placeholder:"Status",disabled:!0}),p.a.createElement("input",{className:"ciInput col-5 my-1 px-2 px-sm-3 border-bottom",type:"number",name:"checkPointNo",value:e.checkPointNo,onChange:this.updateState,placeholder:"Enter number of checkpoints",min:"0",required:!0}),p.a.createElement("div",{className:"ciInput col-5 my-1 d-flex align-items-end justify-content-center"},p.a.createElement("button",{className:"ciSubmit button input col-10",type:"submit"},window.innerWidth<576?p.a.createElement("i",{className:"fas fa-save"}):"Save Change"))),p.a.createElement("div",{className:"ciInput row col-12 col-sm-10 my-1 mx-auto d-flex align-items-end justify-content-between"},p.a.createElement(f.default,{event:{eventName:e.event,courseType:e.type}}),p.a.createElement(b.default,{event:{eventName:e.event,courseType:e.type},checkPoints:{checkPointNo:e.checkPointNo,firstCheckPoint:e.firstCheckPoint}}))):null}},{key:"updateState",value:function(e){var t=Object(c.a)({},this.state);switch(e.target.name){case"event":t.event=e.target.value,this.setState(t);break;case"courseAccessKey":t.password=e.target.value,this.setState(t);break;case"startTime":t.startTime=e.target.value,this.setState(t);break;case"endTime":t.endTime=e.target.value,this.setState(t);break;case"checkPointNo":t.checkPointNo=e.target.value,this.setState(t)}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target,o="";if(a.startTime.value>=a.endTime.value?o="Course cannot end before start.":a.courseAccessKey.value.length<4&&(o="Access key must have a length of 4"),""===o){var s=new h.default,i=new m.default;i.postData("/courses/editcourse/",{password:a.courseAccessKey.value,type:a.type.value,event:a.event.value,startTime:a.startTime.value,endTime:a.endTime.value,status:a.status.value,checkPointNo:a.checkPointNo.value,firstCheckPoint:this.state.firstCheckPoint}).then((function(e){e.error?(Object(u.showAlert)(e.error,5e3),t.setState(Object(c.a)({},t.state,Object(n.a)({},"error",e.error)))):(i.postData("/participants/addParticipant/",{eventName:a.event.value,courseType:a.type.value,parName:s.getCookie("username")}),t.setState(e),window.location.reload())}))}else Object(u.showAlert)(o,5e3),this.setState(Object(c.a)({},this.state,Object(n.a)({},"error",o)))}}]),a}(p.a.Component));t.default=y},54:function(e,t,a){"use strict";a.r(t);var n=a(0);function c(){if(!Object(n.eId)("qrCodes"))return!1;Object(n.eId)("checkpoints").style.height=.8*window.innerHeight+"px",window.innerWidth>window.innerHeight?Object(n.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(n.eId)("checkpoints").offsetHeight)+"px":Object(n.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(n.eId)("checkpoints").offsetWidth)+"px";var e=Object(n.eClass)("checkpointsTable")[0];e.style.height=.8*(Object(n.eId)("checkpoints").offsetTop+Object(n.eId)("checkpoints").offsetHeight-e.offsetTop)+"px",Object(n.eClass)("table")[0].style.height=0,Object(n.eClass)("table")[0].style.height=1*(Object(n.eClass)("downloadqrCodes")[0].offsetTop-Object(n.eClass)("table")[0].offsetTop)-.03*e.offsetHeight+"px",Object(n.eClass)("tbody")[0].style.height=Object(n.eClass)("table")[0].offsetHeight-Object(n.eClass)("thead")[0].offsetHeight+"px",function(e){for(var t=Object(n.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.15*t[0].offsetWidth+"px"}("btn")}t.default=function(){Object(n.darkLightMode)("checkpoints"),Object(n.darkLightMode)("input"),Object(n.darkLightMode)("button"),c();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",c)}},55:function(e,t,a){"use strict";a.r(t);var n=a(0);function c(){if(!Object(n.eId)("participants"))return!1;Object(n.eId)("participants").style.height=.8*window.innerHeight+"px",window.innerWidth>window.innerHeight?Object(n.eId)("participants").style.borderRadius=.07*parseInt(Object(n.eId)("participants").offsetHeight)+"px":Object(n.eId)("participants").style.borderRadius=.07*parseInt(Object(n.eId)("participants").offsetWidth)+"px";var e=Object(n.eClass)("parTable")[0];e.style.height=.8*(Object(n.eId)("participants").offsetTop+Object(n.eId)("participants").offsetHeight-e.offsetTop)+"px",Object(n.eClass)("table")[0].style.height=0,Object(n.eClass)("table")[0].style.height=Object(n.eClass)("addPar")[0].offsetTop-Object(n.eClass)("table")[0].offsetTop-.03*e.offsetHeight+"px",Object(n.eClass)("tbody")[0].style.height=Object(n.eClass)("table")[0].offsetHeight-Object(n.eClass)("thead")[0].offsetHeight+"px",function(e){for(var t=Object(n.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.05*t[0].offsetWidth+"px"}("input")}t.default=function(){Object(n.darkLightMode)("participants"),Object(n.darkLightMode)("input"),Object(n.darkLightMode)("button"),c();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",c)}},62:function(e,t,a){"use strict";a.r(t);var n=a(0);t.default=function(){Object(n.darkLightMode)("courseInfo"),Object(n.darkLightMode)("input"),Object(n.darkLightMode)("button")}},81:function(e,t,a){},82:function(e,t,a){},89:function(e,t,a){}}]);
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[36,48,69],{198:function(e,t){},199:function(e,t){},23:function(e,t,a){"use strict";a.r(t);var n=a(6),o=a(9),c=a.n(o),s=a(17),i=a(30),r=a(3),d=a(14),l=a(52),h=a(15),u=a(16),p=a(0),m=a.n(p),f=a(53),b=a.n(f),v=a(283),k=a.n(v),g=a(284),j=a.n(g),w=a(292),y=a.n(w),C=a(20),O=a(5),E=a(65),N=(a(96),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n.renderQRCodeList=n.renderQRCodeList.bind(Object(l.a)(n)),n.clickedqrCodesModal=n.clickedqrCodesModal.bind(Object(l.a)(n)),n.removeModal=n.removeModal.bind(Object(l.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getCheckPoints(),Object(E.default)()}},{key:"componentDidUpdate",value:function(){}},{key:"getCheckPoints",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,o,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.a)({},this.props.event),a=Object(s.a)({},this.props.checkPoints),n=new O.default,e.next=5,n.postData("/checkpoints/getCheckPoints",{checkPointNo:a.checkPointNo,firstCheckPoint:a.firstCheckPoint}).then((function(e){return e.error?(Object(C.showAlert)(e.error,5e3),console.log(e),!1):(e.forEach((function(e){e.code+="-"+t.eventName,e.code+="-"+t.courseType,e.code+="-"+a.firstCheckPoint,e.code+="-"+a.checkPointNo,e.code+="-"+e.point})),i.setState({checkPoints:e}),e)}));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement("button",{className:"button ciSubmit col-5",onClick:this.renderQRCodeList},"Show ",this.props.checkPoints.checkPointNo,"\xa0",window.innerWidth<576?m.a.createElement("i",{className:"fas fa-qrcode"}):"QRCodes")}},{key:"renderQRCodeList",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,o,s,i,r,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getCheckPoints();case 3:for(i in a=e.sent,n=[],o=[],s=function(e){var t=a[e];o.push(m.a.createElement("div",{className:"checkpoint tr row py-2",key:t.id,value:t.id},m.a.createElement("div",{className:"td col-2 d-flex justify-content-center align-items-center"},m.a.createElement("span",null,t.id)),m.a.createElement("div",{className:"td col-6 d-flex justify-content-center align-items-center"},m.a.createElement(k.a,{key:t.id,id:t.id,value:t.code,size:50,level:"H"})),m.a.createElement("div",{className:"td col-4 d-flex justify-content-center align-items-center"},m.a.createElement("span",null,m.a.createElement("input",{type:"number",min:"0",max:"10",defaultValue:t.point,onChange:function(t){d.updateScore(t,e)}})))))},a)s(i);return n.push(m.a.createElement("div",{key:"checkpoints",id:"checkpoints",className:"checkpoints card shadow-lg pt-4 px-3 px-sm-4",onMouseDown:this.clickedqrCodesModal},m.a.createElement("div",{className:"card-title mt-3"},m.a.createElement("h2",null,this.props.event.eventName),m.a.createElement("h4",null,"\u2663\xa0 ",this.props.event.courseType," \xa0\u2663")),m.a.createElement("div",{className:"checkpointsTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border"},m.a.createElement("div",{className:"tcaption text-left pl-1 pt-1 pb-2"},"QRCodes ( ",a?a.length:"0"," qrCode(s) )"),m.a.createElement("div",{className:"table mx-auto border"},m.a.createElement("div",{className:"thead col-12"},m.a.createElement("div",{className:"tr row py-3"},m.a.createElement("div",{className:"th col-2"},"ID"),m.a.createElement("div",{className:"th col-6"},"QRcode"),m.a.createElement("div",{className:"th col-4"},"Point"))),m.a.createElement("div",{id:"qrCodes",className:"tbody col-12 overflow-auto"},o)),m.a.createElement("div",{className:"downloadqrCodes col-12 d-flex justify-content-end"},m.a.createElement("button",{className:"btn border-bottom col-8 col-sm-5 px-2",onClick:this.downloadQRCode},window.innerWidth>576?"Download":m.a.createElement("i",{className:"fas fa-download"}),"\xa0",this.props.checkPoints.checkPointNo," QRCodes"))))),(r=document.createElement("div")).id="popUpModal",r.className="popUpModal",r.onclick=this.removeModal,"on"==window.localStorage.getItem("darkThemeMode")&&(r.className+=" dark-popUpModal"),document.body.appendChild(r),e.next=17,b.a.render(n,r);case 17:Object(E.default)();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickedqrCodesModal",value:function(){this.setState(Object(s.a)({},this.state,Object(n.a)({},"showModal",!0)))}},{key:"removeModal",value:function(){this.state.showModal?this.setState(Object(s.a)({},this.state,Object(n.a)({},"showModal",null))):document.getElementById("popUpModal").remove()}},{key:"updateScore",value:function(e,t){var a=this.state.checkPoints;a[t].point=e.target.value,a[t].code=a[t].code.substring(0,a[t].code.length-2)+"-"+e.target.value,this.setState({checkPoints:a})}},{key:"updateMsg",value:function(e,t){}},{key:"downloadQRCode",value:function(){var e=window.sessionStorage.getItem("eventName"),t=window.sessionStorage.getItem("courseType"),a=new j.a,n=a.folder("QRCodes("+e+"-"+t+")"),o=document.getElementById("qrCodes").getElementsByTagName("canvas");Object.keys(o).forEach((function(e){document.createElement("a");var t=o[e].toDataURL().replace(/^data:image\/(png|jpg);base64,/,"");n.file("check_point_"+e+".jpg",t,{base64:!0})})),a.generateAsync({type:"blob"}).then((function(a){y.a.saveAs(a,"QRCodes("+e+"-"+t+").zip")}))}}]),a}(m.a.Component));t.default=N},65:function(e,t,a){"use strict";a.r(t);var n=a(1);function o(){if(!Object(n.eId)("qrCodes"))return!1;Object(n.eId)("checkpoints").style.height=.8*window.innerHeight+"px",window.innerWidth>window.innerHeight?Object(n.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(n.eId)("checkpoints").offsetHeight)+"px":Object(n.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(n.eId)("checkpoints").offsetWidth)+"px";var e=Object(n.eClass)("checkpointsTable")[0];e.style.height=.8*(Object(n.eId)("checkpoints").offsetTop+Object(n.eId)("checkpoints").offsetHeight-e.offsetTop)+"px",Object(n.eClass)("table")[0].style.height=0,Object(n.eClass)("table")[0].style.height=1*(Object(n.eClass)("downloadqrCodes")[0].offsetTop-Object(n.eClass)("table")[0].offsetTop)-.03*e.offsetHeight+"px",Object(n.eClass)("tbody")[0].style.height=Object(n.eClass)("table")[0].offsetHeight-Object(n.eClass)("thead")[0].offsetHeight+"px",function(e){for(var t=Object(n.eClass)(e),a=0;a<t.length;a++)t[a].style.borderRadius=.15*t[0].offsetWidth+"px"}("btn")}t.default=function(){Object(n.darkLightMode)("checkpoints"),Object(n.darkLightMode)("input"),Object(n.darkLightMode)("button"),o();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",o)}},96:function(e,t,a){}}]);
//# sourceMappingURL=36.84114f0a.chunk.js.map
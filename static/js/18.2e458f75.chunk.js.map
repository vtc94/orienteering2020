{"version":3,"sources":["components/Alert.js","components/events/SingleEvent.js","css/events/SingleEventStyle.js"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","SingleEvent","props","state","name","date","location","status","updateState","bind","handleSubmit","addCourse","deleteCourse","href","path","eventName","cookieHelpers","CookieHelpers","SubmitDataHelpers","postData","username","getCookie","then","res","error","search","replace","encodeURI","setState","Date","today","getFullYear","getMonth","getDate","renderCourses","showAddCourse","SingleEventStyle","form","classNameInput","this","push","key","className","type","value","disabled","onClick","onChange","placeholder","required","courseList","length","addCourseButton","e","target","preventDefault","timezone","getTimezoneOffset","helpers","creator","toLowerCase","reload","confirm","eventStatus","data-toggle","data-placement","title","event","courses","currentTime","toLocaleTimeString","substring","forEach","course","startTime","endTime","content","selectCourse","password","onContextMenu","onMouseDown","courseType","courseAccessKey","deletingCourse","module","default","CreateCourse","modal","localStorage","ReactDOM","render","React","Component","setStyle","i","eClass","inputWrap","innerWidth","setInputWrap","eId","style","height","offsetTop","offsetHeight","width","color","darkLightMode","userAgent","navigator","vendor","opera","test","addEventListener"],"mappings":"8GAAA,qDAAIA,EAAY,SAAmBC,EAAKC,GACpC,GAAGC,SAASC,eAAe,SAAS,CAChC,IAAIC,EAAcC,OAAOC,eAAeC,QAAQ,eAChDC,aAAaJ,GACbF,SAASC,eAAe,SAASM,SAGrC,IAAIC,EAAMR,SAASS,cAAc,OAWjC,GAVAD,EAAIE,GAAK,QACTF,EAAIG,UACU,uGACGb,EACA,qIAIjBE,SAASY,KAAKC,YAAYL,IAEV,GAAbT,EAAe,CACd,IAAIG,EAAcY,YAAW,WACtBd,SAASC,eAAe,UACvBD,SAASC,eAAe,SAASM,WAEtCR,GAEHI,OAAOC,eAAeW,QAAQ,cAAeb,M,wLChB/Cc,G,wDACF,WAAYC,GAAO,IAAD,8BACd,cAAMA,IACDC,MAAQ,CACTC,KAAM,GACNC,KAAM,GACNC,SAAU,GACVC,OAAQ,IAGZ,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBACpB,EAAKE,UAAY,EAAKA,UAAUF,KAAf,gBACjB,EAAKG,aAAe,EAAKA,aAAaH,KAAlB,gBAZN,E,gEAgBE,IAAD,OACXrB,OAAOC,eAAeC,QAAQ,eAC9BF,OAAOkB,SAASO,KAAOzB,OAAOC,eAAeyB,KAAO,WAGxD,IAAIC,EAAY3B,OAAOC,eAAeC,QAAQ,aAE1C0B,EAAgB,IAAIC,WACV,IAAIC,WAEVC,SAAS,uBACjB,CACIJ,UAAWA,EACXK,SAAUJ,EAAcK,UAAU,YAAaL,EAAcK,UAAU,YAAa,KACrFC,MAAK,SAAAC,GACJ,GAAIA,EAAIC,OAASpC,OAAOkB,SAASmB,OAAOC,QAAQ,KAAM,OAAU,WAAaC,UAAUZ,GAAa,IAkBhGjC,oBAAUyC,EAAIC,MAAO,KAErB,EAAKI,SAAS,CAACJ,MAAOD,EAAIC,QAC1BpC,OAAOkB,SAASO,KAAOzB,OAAOC,eAAeyB,KAAO,cArBiD,CAErG,IAAIT,EAAO,IAAIwB,KACXC,EAAQzB,EAAK0B,cAAgB,KAAO1B,EAAK2B,WAAW,EAAG,KAAO3B,EAAK2B,WAAW,GAAI3B,EAAK2B,WAAa,GAAK,KAAO3B,EAAK4B,UAAU,GAAI,IAAM5B,EAAK4B,UAAW5B,EAAK4B,WAE/JV,EAAI,GAAGlB,KAAOyB,EACbP,EAAI,GAAGhB,OAAS,SACVgB,EAAI,GAAGlB,MAAQyB,EACrBP,EAAI,GAAGhB,OAAS,UAEhBgB,EAAI,GAAGhB,OAAS,SAGpB,EAAKqB,SAASL,EAAI,IAClB,EAAKW,cAAcX,EAAI,IACvB,EAAKY,cAAcZ,EAAI,GAAGhB,YAUlC6B,sB,2CAIAA,sB,+BAIA,IAAIC,EAAO,GACPC,EAAiB,6CA2CrB,MAxCkC,QACjB,QACE,UAEK,UAArBC,KAAKpC,MAAMI,OACV8B,EAAKG,KACD,0BAAMC,IAAI,cAAcC,UAAU,YAC9B,yBAAK/C,GAAG,YAAY+C,UAAU,2CAC1B,yBAAKA,UAAU,6CACX,2BAAOA,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,OAAOwC,MAAOL,KAAKpC,MAAMC,KAAMyC,UAAQ,IAC1F,yBAAKH,UAAU,2DAA0D,uBAAG/C,GAAG,aAAa+C,UAAU,cAAcI,QAASP,KAAK7B,gBAClI,2BAAOgC,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,OAAOwC,MAAOL,KAAKpC,MAAME,KAAM0C,SAAUR,KAAK/B,YAAawC,YAAY,aAAaC,UAAQ,KAEnJ,yBAAKP,UAAU,6CACX,2BAAOA,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,WAAWwC,MAAOL,KAAKpC,MAAMG,SAAUyC,SAAUR,KAAK/B,YAAawC,YAAY,WAAWC,UAAQ,IACrJ,yBAAKP,UAAU,2DAA0D,uBAAG/C,GAAG,cAAc+C,UAAU,mBAAmBI,QAASP,KAAK7B,gBACxI,2BAAOgC,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,SAASwC,MAAOL,KAAKpC,MAAMI,OAAQwC,SAAUR,KAAK/B,YAAawC,YAAY,SAASH,UAAQ,QAM/JR,EAAKG,KACD,0BAAMC,IAAI,cAAcC,UAAU,YAC9B,yBAAK/C,GAAG,YAAY+C,UAAU,2CAC1B,yBAAKA,UAAU,6CACX,2BAAOA,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,OAAOwC,MAAOL,KAAKpC,MAAMC,KAAMyC,UAAQ,IAC1F,yBAAKH,UAAU,UACf,2BAAOA,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,OAAOwC,MAAOL,KAAKpC,MAAME,KAAM0C,SAAUR,KAAK/B,YAAawC,YAAY,aAAaH,UAAQ,KAEnJ,yBAAKH,UAAU,6CACX,2BAAOA,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,WAAWwC,MAAOL,KAAKpC,MAAMG,SAAUyC,SAAUR,KAAK/B,YAAawC,YAAY,WAAWH,UAAQ,IACrJ,yBAAKH,UAAU,SAAQ,uBAAG/C,GAAG,cAAc+C,UAAU,wCAAwCI,QAASP,KAAK7B,gBAC3G,2BAAOgC,UAAWJ,EAAgBK,KAAK,OAAOvC,KAAK,SAASwC,MAAOL,KAAKpC,MAAMI,OAAQwC,SAAUR,KAAK/B,YAAawC,YAAY,SAASH,UAAQ,QAQ/J,yBAAKlD,GAAG,cAAc+C,UAAU,eAC5B,yBAAKA,UAAU,cACX,4BAAKH,KAAKpC,MAAMC,OAGpB,yBAAKsC,UAAU,yBACVL,GAGL,yBAAKK,UAAU,yDACX,yBAAKA,UAAU,qCAAf,aAA8DH,KAAKpC,MAAM+C,WAAYX,KAAKpC,MAAM+C,WAAWC,OAAS,IAApH,cACA,yBAAKT,UAAU,wBACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,eACX,yBAAKA,UAAU,YAAf,QACA,yBAAKA,UAAU,YAAf,SACA,yBAAKA,UAAU,YAAf,OACA,yBAAKA,UAAU,YAAf,YAGR,yBAAKA,UAAU,8BACVH,KAAKpC,MAAM+C,WAAYX,KAAKpC,MAAM+C,WAAY,eAItDX,KAAKpC,MAAMiD,oB,kCAMhBC,GACR,IAAIlD,EAAK,eAAOoC,KAAKpC,OAErB,OAAOkD,EAAEC,OAAOlD,MACZ,IAAK,OACDD,EAAMC,KAAOiD,EAAEC,OAAOV,MACtBL,KAAKX,SAASzB,GACd,MACJ,IAAK,OACD,IAAIE,EAAO,IAAIwB,KACHxB,EAAK0B,cAAuB1B,EAAK2B,WAAW,EAAU3B,EAAK2B,WAAe3B,EAAK2B,WAAyB3B,EAAK4B,UAAY,GAAU5B,EAAK4B,UAAW5B,EAAK4B,UAEhK9B,EAAME,KAAOgD,EAAEC,OAAOV,MACtBL,KAAKX,SAASzB,GAMlB,MACJ,IAAK,WACDA,EAAMG,SAAW+C,EAAEC,OAAOV,MAC1BL,KAAKX,SAASzB,M,mCAObkD,GAAG,IAAD,OACXA,EAAEE,iBACF,IAAI/B,EAAQ,GAERnB,EAAO,IAAIwB,KACXC,EAAQzB,EAAK0B,cAAgB,KAAO1B,EAAK2B,WAAW,EAAG,KAAO3B,EAAK2B,WAAW,GAAI3B,EAAK2B,WAAa,GAAK,KAAO3B,EAAK4B,UAAY,GAAI,IAAM5B,EAAK4B,UAAW5B,EAAK4B,WAAuBuB,EAAWnD,EAAKoD,qBAAsB,GAAM,SAEnOC,EAAU,IAAIxC,UAElB,GAAmB,eAAhBmC,EAAEC,OAAO3D,GAKR,GAJG4C,KAAKpC,MAAME,MAAQyB,IAClBN,EAAQ,qCAGC,KAAVA,EAAa,CAEZ,IACImC,GADgB,IAAI1C,WACII,UAAU,YAEtCqC,EAAQvC,SAAS,qBACb,CACIf,KAAMmC,KAAKpC,MAAMC,KAAKwD,cACtBvD,KAAMkC,KAAKpC,MAAME,KACjBmD,SAAUA,EACVlD,SAAUiC,KAAKpC,MAAMG,SACrBC,OAAQgC,KAAKpC,MAAMI,OACnBoD,QAASA,IAEfrC,MAAK,SAACC,GAEJ,GAAGA,EAAIC,MAAM,CAET1C,oBAAUyC,EAAIC,MAAO,KAErB,IAAIrB,EAAK,eAAO,EAAKA,OACrBA,EAAMqB,MAAQD,EAAIC,MAClB,EAAKI,SAASzB,QAEff,OAAOkB,SAASuD,gBAGpB,CACH/E,oBAAU0C,EAAO,KAEjB,IAAIrB,EAAK,eAAOoC,KAAKpC,OACrBA,EAAMqB,MAAQA,EACde,KAAKX,SAASzB,OAEI,gBAAhBkD,EAAEC,OAAO3D,IACZP,OAAO0E,QAAQ,0BACdJ,EAAQvC,SAAS,uBACb,CACIf,KAAMmC,KAAKpC,MAAMC,KAAKwD,gBAE5BtC,MAAK,SAACC,GAEJ,GAAGA,EAAIC,MAAM,CAET1C,oBAAUyC,EAAIC,MAAO,KAErB,IAAIrB,EAAK,eAAO,EAAKA,OACrBA,EAAMqB,MAAQD,EAAIC,MAClB,EAAKI,SAASzB,QAEdf,OAAOkB,SAASO,KAAOzB,OAAOC,eAAeyB,KAAO,e,oCAO1DiD,GACV,GAAkB,UAAfA,EAAwB,CACvB,IAAIX,EAAkB,GAEtBA,EAAgBZ,KACZ,yBAAKC,IAAI,YAAYC,UAAU,8BAA8BsB,cAAY,UAAUC,iBAAe,MAAMC,MAAM,iBAC1G,4BAAQxB,UAAU,iDAAiDI,QAASP,KAAK5B,WAC7E,uBAAG+B,UAAU,mBAIzBH,KAAKX,SAAL,eAAkBW,KAAKpC,MAAvB,eAA+B,kBAAoBiD,Q,oCAI7Ce,GAAO,IAAD,OAChB,GAAIA,EAAMC,QAAQ5C,MAgDde,KAAKX,SAAL,eAAkBW,KAAKpC,MAAvB,eAA+B,QAAUgE,EAAMC,QAAQ5C,aAhDnC,CACpB,IACI6C,GADO,IAAIxC,MACQyC,qBAAqBC,UAAU,EAAE,GACpDH,EAAUD,EAAMC,QAEpBA,EAAQI,SAAQ,SAAAC,GACO,UAAhBN,EAAM5D,OACLkE,EAAOlE,OAAS,SACM,WAAhB4D,EAAM5D,OACTkE,EAAOC,UAAYL,EAClBI,EAAOlE,OAAS,SACVkE,EAAOC,UAAYL,GAAeI,EAAOE,QAAUN,EACzDI,EAAOlE,OAAS,UAEhBkE,EAAOlE,OAAS,SAGpBkE,EAAOlE,OAAS,YAIxB,IAAIqE,EAAU,GAEdR,EAAQI,SAAQ,SAAAC,GACZG,EAAQpC,KACJ,yBAAKE,UAAU,qBACXD,IAAKgC,EAAO9B,KAAMC,MAAO6B,EAAO9B,KAChCG,QAAS,kBAAM,EAAK+B,aAAaJ,EAAO9B,KAAM8B,EAAOK,WACrDC,cAAe,SAAA1B,GAAC,OAAI,EAAKzC,aAAayC,EAAGoB,EAAO9B,QAEhD,yBAAKD,UAAU,YAAY+B,EAAO9B,MAClC,yBAAKD,UAAU,YAAY+B,EAAOC,WAClC,yBAAKhC,UAAU,YAAY+B,EAAOE,SAClC,yBAAKjC,UAAU,YACV+B,EAAOlE,OACR,uBAAGmC,UAAU,mCACTsB,cAAY,UAAUC,iBAAe,MAAMC,MAAM,kBACjDc,YAAa,SAAA3B,GAAC,OAAI,EAAKzC,aAAayC,EAAGoB,EAAO9B,eAOlEJ,KAAKX,SAAL,eAAkBW,KAAKpC,MAAvB,eAA+B,aAAeyE,Q,mCAQzCK,EAAYC,GACjB3C,KAAKpC,MAAMgF,eAQX5C,KAAKX,SAAS,CAACuD,gBAAgB,KAP/B/F,OAAOC,eAAeW,QAAQ,aAAciF,GAC5C7F,OAAOC,eAAeW,QAAQ,OAAQ,eACtCZ,OAAOC,eAAeW,QAAQ,YAAauC,KAAKpC,MAAME,MACtDjB,OAAOC,eAAeW,QAAQ,kBAAmBkF,GAEjD9F,OAAOkB,SAASO,MAAQoE,EAAa,IAAMC,EAAkB,O,2JAO9D3C,KAAKpC,MAAM+C,YAAcX,KAAKpC,MAAM+C,WAAWC,OAAS,G,gBACvDrE,oBAAU,0DAA2D,K,uCAElD,8B,cAAfsG,E,gBACuBA,EAAOC,Q,OAA5BC,E,QAEFC,EAAQtG,SAASS,cAAc,QAC7BC,GAAK,aACX4F,EAAM7C,UAAY,aAEiC,MAAhDtD,OAAOoG,aAAalG,QAAQ,mBAC3BiG,EAAM7C,WAAa,oBAGvBzD,SAASY,KAAKC,YAAYyF,GAC1BE,IAASC,OAAO,kBAACJ,EAAD,MAAkBrG,SAASC,eAAe,e,0IAIrDmE,EAAG4B,GAAY,IAAD,OAKvB,GAJA1C,KAAKX,SAAS,CAACuD,gBAAgB,IAE/B9B,EAAEE,iBAECnE,OAAO0E,QAAQ,yBAAyB,EAMzB,IAAI5C,WACVC,SAAS,yBACjB,CACIgD,MAAO5B,KAAKpC,MAAMC,KAAKwD,cACvBjB,KAAMsC,IACP3D,MAAK,SAACC,GAEL,GAAGA,EAAIC,MAAM,CAET1C,oBAAUyC,EAAIC,MAAO,KAErB,IAAIrB,EAAK,eAAO,EAAKA,OACrBA,EAAMqB,MAAQD,EAAIC,MAClB,EAAKI,SAASzB,QAEdf,OAAOkB,SAASuD,iB,GAhXV8B,IAAMC,YAuXjB3F,a,gCChYf,kBAkBA,SAAS4F,KAmBT,WACI,IAAI,IAAIC,EAAI,EAAGA,EAAIC,iBAAO,aAAa5C,OAAQ2C,IAAI,CAC/C,IAAIE,EAAYD,iBAAO,aAAaD,GAEjC1G,OAAO6G,YAAc,IACpBD,EAAUtD,UAAYsD,EAAUtD,UAAUhB,QAAQ,QAAS,IAE3DsE,EAAUtD,UAAYsD,EAAUtD,UAAUhB,QAAQ,QAAS,IAAM,SAzBzEwE,GAEGH,iBAAO,aAAa,IACnBI,cAAI,eAAeC,MAAMC,OAASF,cAAI,OAAOG,UAAY,KACzDP,iBAAO,eAAe,GAAGK,MAAMC,OAAkF,KAAxEF,cAAI,eAAeI,aAAeR,iBAAO,eAAe,GAAGO,WAAoB,KACxHP,iBAAO,SAAS,GAAGK,MAAMC,OAA0G,IAAhGF,cAAI,OAAOG,UAAYP,iBAAO,SAAS,GAAGO,UAAYP,iBAAO,gBAAgB,GAAGQ,cAAsB,KACzIR,iBAAO,SAAS,GAAGK,MAAMC,OAASN,iBAAO,SAAS,GAAGQ,aAAgBR,iBAAO,gBAAgB,GAAGQ,aAAe,OAE9GJ,cAAI,eAAeC,MAAMC,OAASF,cAAI,OAAOG,UAAY,KACzDP,iBAAO,eAAe,GAAGK,MAAMC,OAAkF,KAAxEF,cAAI,eAAeI,aAAeR,iBAAO,eAAe,GAAGO,WAAoB,KACxHP,iBAAO,SAAS,GAAGK,MAAMC,OAAiE,IAAvDF,cAAI,OAAOG,UAAYP,iBAAO,SAAS,GAAGO,WAAmB,KAChGP,iBAAO,SAAS,GAAGK,MAAMC,OAASN,iBAAO,SAAS,GAAGQ,aAAgBR,iBAAO,SAAS,GAAGQ,aAAe,MA8BxGR,iBAAO,aAAa,KACnBA,iBAAO,aAAa,GAAGK,MAAMC,OAASN,iBAAO,gBAAgB,GAAGQ,aAAe,KAC/ER,iBAAO,gBAAgB,GAAGK,MAAMI,MAAQT,iBAAO,gBAAgB,GAAGQ,aAAe,KAC9ER,iBAAO,UAAU5C,OAAS,IACzB4C,iBAAO,WAAW,GAAGK,MAAMK,MAAQ,0BApDhCrE,UAVf,WAaIsE,wBAAc,eAXdb,IAEA,IAAIc,EAAYC,UAAUD,WAAaC,UAAUC,QAAUzH,OAAO0H,MAC5D,WAAWC,KAAKJ,IAClBvH,OAAO4H,iBAAiB,SAAUnB,K","file":"static/js/18.2e458f75.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {showAlert} from '../Alert';\r\nimport SubmitDataHelpers from '../helpers/SubmitDataHelpers.js';\r\nimport CookieHelpers from '../helpers/CookieHelpers';\r\n\r\nimport SingleEventStyle from '../../css/events/SingleEventStyle';\r\nimport '../../css/events/SingleEvent.css';\r\n\r\nclass SingleEvent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            date: '',\r\n            location: '',\r\n            status: '',\r\n        };\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.addCourse = this.addCourse.bind(this);\r\n        this.deleteCourse = this.deleteCourse.bind(this);\r\n    }\r\n    \r\n\r\n    componentDidMount(){\r\n        if(!window.sessionStorage.getItem(\"eventName\")){\r\n            window.location.href = window.sessionStorage.path + 'events/';\r\n        }\r\n        \r\n        let eventName = window.sessionStorage.getItem(\"eventName\");\r\n\r\n        let cookieHelpers = new CookieHelpers;\r\n        let helpers = new SubmitDataHelpers;\r\n\r\n        helpers.postData('/events/singleEvent/',\r\n        {\r\n            eventName: eventName,\r\n            username: cookieHelpers.getCookie('username')? cookieHelpers.getCookie('username'): '',\r\n        }).then(res => {\r\n            if(!res.error && window.location.search.replace('?/', '/') === ('/events/' + encodeURI(eventName) + '/')){\r\n                //console.log(res);\r\n                let date = new Date();\r\n                let today = date.getFullYear() + '-' + (date.getMonth()<9? '0' + (date.getMonth()+1): date.getMonth() + 1) + '-' + (date.getDate()<10? '0' + date.getDate(): date.getDate());                //console.log(res[0].date + ' ' + today);\r\n                \r\n                if(res[0].date > today){\r\n                    res[0].status = 'Coming';\r\n                } else if(res[0].date == today){\r\n                    res[0].status = 'Opening';\r\n                } else {\r\n                    res[0].status = 'Closed';\r\n                }\r\n                //console.log(res[0].status);\r\n                this.setState(res[0]);\r\n                this.renderCourses(res[0]);\r\n                this.showAddCourse(res[0].status);\r\n            } else {\r\n                //console.log(res);\r\n                showAlert(res.error, 5000);\r\n\r\n                this.setState({error: res.error});\r\n                window.location.href = window.sessionStorage.path + 'events/';\r\n            }\r\n        });\r\n\r\n        SingleEventStyle();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        SingleEventStyle();\r\n    }\r\n\r\n    render(){\r\n        let form = [];\r\n        let classNameInput = 'seinput col-5 border-bottom pt-2 pb-1 mb-2';\r\n\r\n        let classNameSave, classNameDelete;\r\n        classNameSave = classNameDelete = 'sebtn';\r\n        classNameSave += ' save';\r\n        classNameDelete += ' delete';\r\n\r\n        if(this.state.status == 'Coming'){\r\n            form.push(\r\n                <form key=\"changeEvent\" className=\" mx-auto\">\r\n                    <div id=\"formInput\" className=\"formInput col-12 col-sm-11 mx-auto py-1\">\r\n                        <div className=\"inputWrap col-12 p-0 d-flex flex-row my-3\">\r\n                            <input className={classNameInput} type=\"text\" name=\"name\" value={this.state.name} disabled />\r\n                            <div className=\" col-2 d-flex justify-content-center align-items-center\"><i id=\"saveChange\" className=\"fas fa-save\" onClick={this.handleSubmit}></i></div>\r\n                            <input className={classNameInput} type=\"date\" name=\"date\" value={this.state.date} onChange={this.updateState} placeholder=\"Event Date\" required />\r\n                        </div>\r\n                        <div className=\"inputWrap col-12 p-0 d-flex flex-row my-3\">\r\n                            <input className={classNameInput} type=\"text\" name=\"location\" value={this.state.location} onChange={this.updateState} placeholder=\"Location\" required />\r\n                            <div className=\" col-2 d-flex justify-content-center align-items-center\"><i id=\"deleteEvent\" className=\"fas fa-trash-alt\" onClick={this.handleSubmit}></i></div>\r\n                            <input className={classNameInput} type=\"text\" name=\"status\" value={this.state.status} onChange={this.updateState} placeholder=\"Status\" disabled/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            );\r\n        } else {\r\n            form.push(\r\n                <form key=\"changeEvent\" className=\" mx-auto\">\r\n                    <div id=\"formInput\" className=\"formInput col-12 col-sm-11 mx-auto py-1\">\r\n                        <div className=\"inputWrap col-12 p-0 d-flex flex-row my-3\">\r\n                            <input className={classNameInput} type=\"text\" name=\"name\" value={this.state.name} disabled />\r\n                            <div className=\"col-2\"></div>\r\n                            <input className={classNameInput} type=\"date\" name=\"date\" value={this.state.date} onChange={this.updateState} placeholder=\"Event Date\" disabled />\r\n                        </div>\r\n                        <div className=\"inputWrap col-12 p-0 d-flex flex-row my-3\">\r\n                            <input className={classNameInput} type=\"text\" name=\"location\" value={this.state.location} onChange={this.updateState} placeholder=\"Location\" disabled />\r\n                            <div className=\"col-2\"><i id=\"deleteEvent\" className=\"closedEventDeleteBtn fas fa-trash-alt\" onClick={this.handleSubmit}></i></div>\r\n                            <input className={classNameInput} type=\"text\" name=\"status\" value={this.state.status} onChange={this.updateState} placeholder=\"Status\" disabled/>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <div id=\"singleEvent\" className=\"singleEvent\">\r\n                <div className='title pb-3'>\r\n                    <h2>{this.state.name}</h2>\r\n                </div>\r\n\r\n                <div className=\"formInputWrap col p-0\">\r\n                    {form}\r\n                </div>\r\n\r\n                <div className=\"courseTable mx-auto mt-4 shadow px-2 pt-2 pb-0 border\">\r\n                    <div className=\"tcaption text-left pl-1 pt-1 pb-2\">Courses ( {this.state.courseList? this.state.courseList.length : '0'} courses )</div>\r\n                    <div className=\"table mx-auto border\">\r\n                        <div className=\"thead col-12\">\r\n                            <div className=\"tr row py-3\">\r\n                                <div className=\"th col-3\">Type</div>\r\n                                <div className=\"th col-3\">Start</div>\r\n                                <div className=\"th col-3\">End</div>\r\n                                <div className=\"th col-3\">Status</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"tbody col-12 overflow-auto\">\r\n                            {this.state.courseList? this.state.courseList: 'No courses'}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.state.addCourseButton}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    updateState(e){\r\n        let state = {...this.state};\r\n\r\n        switch(e.target.name){\r\n            case 'name':\r\n                state.name = e.target.value;\r\n                this.setState(state);\r\n                break;\r\n            case 'date':\r\n                let date = new Date();\r\n                let today = date.getFullYear() + '-' + (date.getMonth()<9? '0' + (date.getMonth()+1): date.getMonth() + 1) + '-' + (date.getDate() < 10? '0' + date.getDate(): date.getDate());\r\n                //if(e.target.value > today){\r\n                    state.date = e.target.value;\r\n                    this.setState(state);\r\n                //} else {\r\n                    //alert(\"Date cannot be in the past\");\r\n                   // showAlert(\"Date cannot be in the past\", 5000);\r\n                //}\r\n\r\n                break;\r\n            case 'location':\r\n                state.location = e.target.value;\r\n                this.setState(state);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        let error = '';\r\n\r\n        let date = new Date();\r\n        let today = date.getFullYear() + '-' + (date.getMonth()<9? '0' + (date.getMonth()+1): date.getMonth() + 1) + '-' + (date.getDate() < 10? '0' + date.getDate(): date.getDate());        let timezone = date.getTimezoneOffset()/(-60) + \":00:00\";\r\n\r\n        let helpers = new SubmitDataHelpers;\r\n\r\n        if(e.target.id === \"saveChange\"){\r\n            if(this.state.date <= today){\r\n                error = 'Event date cannot be in the past.'\r\n            }\r\n\r\n            if(error === ''){\r\n                //let creator = window.sessionStorage.getItem(\"username\");\r\n                let cookieHelpers = new CookieHelpers;\r\n                let creator = cookieHelpers.getCookie(\"username\");\r\n\r\n                helpers.postData('/events/editevent/', \r\n                    {\r\n                        name: this.state.name.toLowerCase(),\r\n                        date: this.state.date,\r\n                        timezone: timezone,\r\n                        location: this.state.location,\r\n                        status: this.state.status,\r\n                        creator: creator,\r\n                    }\r\n                ).then((res) => {\r\n                    //console.log(res); // JSON data parsed by `response.json()` call\r\n                    if(res.error){\r\n                        //console.log(res.error);\r\n                        showAlert(res.error, 5000);\r\n\r\n                        let state = {...this.state};\r\n                        state.error = res.error;\r\n                        this.setState(state);\r\n                    } else {\r\n                       window.location.reload();\r\n                    }\r\n                });\r\n            } else {\r\n                showAlert(error, 5000);\r\n\r\n                let state = {...this.state};\r\n                state.error = error;\r\n                this.setState(state);\r\n            }\r\n        } else if(e.target.id === \"deleteEvent\"){\r\n            if(window.confirm(\"Delete this course...\")){\r\n                helpers.postData('/events/deleteevent/', \r\n                    {\r\n                        name: this.state.name.toLowerCase(),\r\n                    }\r\n                ).then((res) => {\r\n                    //console.log(res); // JSON data parsed by `response.json()` call\r\n                    if(res.error){\r\n                        //console.log(res.error);\r\n                        showAlert(res.error, 5000);\r\n\r\n                        let state = {...this.state};\r\n                        state.error = res.error;\r\n                        this.setState(state);\r\n                    } else {\r\n                        window.location.href = window.sessionStorage.path + \"events/\";\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    showAddCourse(eventStatus){\r\n        if(eventStatus == 'Coming'){\r\n            let addCourseButton = [];\r\n\r\n            addCourseButton.push(\r\n                <div key=\"addCourse\" className=\" addCourse mt-2 mb-0 col-12\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Add course...\">\r\n                    <button className=\" addCourseBtn rounded-circle p-3 border shadow\" onClick={this.addCourse}>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                    </button>\r\n                </div>\r\n            );\r\n            this.setState({...this.state, ['addCourseButton']: addCourseButton});\r\n        }\r\n    }\r\n\r\n    renderCourses(event){\r\n        if(!event.courses.error){\r\n            let date = new Date();\r\n            let currentTime = date.toLocaleTimeString().substring(0,8);\r\n            let courses = event.courses;\r\n\r\n            courses.forEach(course => {\r\n                if(event.status == \"Coming\"){\r\n                    course.status = 'Coming';\r\n                } else if(event.status == \"Opening\"){\r\n                    if(course.startTime > currentTime){\r\n                        course.status = 'Coming';\r\n                    } else if(course.startTime < currentTime && course.endTime > currentTime){\r\n                        course.status = 'Opening';\r\n                    } else{\r\n                        course.status = \"Closed\";\r\n                    }\r\n                } else {\r\n                    course.status = \"Closed\";\r\n                }\r\n            });\r\n\r\n            let content = [];\r\n\r\n            courses.forEach(course =>{\r\n                content.push(\r\n                    <div className=\"course tr row py-2\" \r\n                        key={course.type} value={course.type}\r\n                        onClick={() => this.selectCourse(course.type, course.password)} \r\n                        onContextMenu={e => this.deleteCourse(e, course.type)}\r\n                    >\r\n                        <div className=\"td col-3\">{course.type}</div>\r\n                        <div className=\"td col-3\">{course.startTime}</div>\r\n                        <div className=\"td col-3\">{course.endTime}</div>\r\n                        <div className=\"td col-3\">\r\n                            {course.status}\r\n                            <i className=\"deleteCourse fas fa-minus-circle\" \r\n                                data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete event...\"\r\n                                onMouseDown={e => this.deleteCourse(e, course.type)}\r\n                            ></i>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            });\r\n\r\n            this.setState({...this.state, ['courseList']: content});\r\n        } else {\r\n            //showAlert(event.courses.error, 5000);\r\n\r\n            this.setState({...this.state, ['error']: event.courses.error});\r\n        }\r\n    }\r\n\r\n    selectCourse(courseType, courseAccessKey){\r\n        if(!this.state.deletingCourse){\r\n            window.sessionStorage.setItem(\"courseType\", courseType);\r\n            window.sessionStorage.setItem(\"view\", \"creatorView\");\r\n            window.sessionStorage.setItem(\"eventDate\", this.state.date);\r\n            window.sessionStorage.setItem(\"courseAccessKey\", courseAccessKey)\r\n\r\n            window.location.href += courseType + '/' + courseAccessKey + '/';\r\n        } else {\r\n            this.setState({deletingCourse: false});\r\n        }\r\n    }\r\n\r\n    async addCourse(){\r\n        if(this.state.courseList && this.state.courseList.length > 2){\r\n            showAlert('All courses have been added, cannot add more courses...', 5000);\r\n        } else {\r\n            let module = await import(`../courses/CreateCourse`);\r\n            const CreateCourse = await module.default;\r\n\r\n            let modal = document.createElement(\"div\");\r\n            modal.id = \"popUpModal\";\r\n            modal.className = \"popUpModal\";\r\n\r\n            if(window.localStorage.getItem('darkThemeMode') == 'on'){\r\n                modal.className += \" dark-popUpModal\";   \r\n            }\r\n\r\n            document.body.appendChild(modal);\r\n            ReactDOM.render(<CreateCourse />, document.getElementById('popUpModal'));\r\n        }\r\n    }\r\n\r\n    deleteCourse(e, courseType){\r\n        this.setState({deletingCourse: true});\r\n\r\n        e.preventDefault();\r\n\r\n        if(window.confirm(\"Delete this course...\")){\r\n            let error = '';\r\n\r\n            //let date = new Date();\r\n            //let today = date.toISOString().substring(0,10);\r\n\r\n            let helpers = new SubmitDataHelpers;\r\n            helpers.postData('/courses/deletecourse/', \r\n            {\r\n                event: this.state.name.toLowerCase(),\r\n                type: courseType,\r\n            }).then((res) => {\r\n                //console.log(res); // JSON data parsed by `response.json()` call\r\n                if(res.error){\r\n                    //console.log(res.error);\r\n                    showAlert(res.error, 5000);\r\n                    \r\n                    let state = {...this.state};\r\n                    state.error = res.error;\r\n                    this.setState(state);\r\n                } else {\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default SingleEvent;","import {eId, eClass, darkLightMode} from '../../components/helpers/StylingHelpers';\n\nfunction SingleEventStyle(){\n    setDarkLightMode();\n    setStyle();\n\n    var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    if (!(/android/i.test(userAgent))) {\n        window.addEventListener('resize', setStyle);\n    }\n}\n\nexport default SingleEventStyle;\n\nfunction setDarkLightMode(){\n    darkLightMode('singleEvent');\n}\n\nfunction setStyle(){\n    setInputWrap(); \n\n    if(eClass('addCourse')[0]){\n        eId('singleEvent').style.height = eId('nav').offsetTop + 'px';\n        eClass('courseTable')[0].style.height = (eId('singleEvent').offsetHeight - eClass('courseTable')[0].offsetTop) * 0.98 + 'px';\n        eClass('table')[0].style.height = (eId('nav').offsetTop - eClass('table')[0].offsetTop - eClass('addCourseBtn')[0].offsetHeight) * 0.9 + 'px';\n        eClass('tbody')[0].style.height = eClass('table')[0].offsetHeight -  eClass('addCourseBtn')[0].offsetHeight + 'px';\n    } else {\n        eId('singleEvent').style.height = eId('nav').offsetTop + 'px';\n        eClass('courseTable')[0].style.height = (eId('singleEvent').offsetHeight - eClass('courseTable')[0].offsetTop) * 0.98 + 'px';\n        eClass('table')[0].style.height = (eId('nav').offsetTop - eClass('table')[0].offsetTop) * 0.7 + 'px';\n        eClass('tbody')[0].style.height = eClass('table')[0].offsetHeight -  eClass('thead')[0].offsetHeight + 'px';\n    }\n\n    //setTHead();\n    setAddCourse();\n}\n\nfunction setInputWrap(){\n    for(let i = 0; i < eClass('inputWrap').length; i++){\n        let inputWrap = eClass('inputWrap')[i];\n\n        if(window.innerWidth <= 576){\n            inputWrap.className = inputWrap.className.replace(' my-3', '');\n        } else {\n            inputWrap.className = inputWrap.className.replace(' my-3', '') + ' my-3';\n        }\n    }\n}\n\nfunction setTHead(){\n    let theadRow = eClass('thead')[0].getElementsByClassName('row')[0];\n\n    if(window.innerWidth < 576){\n        theadRow.className = theadRow.className.replace(' py-3', ' py-2');\n    } else {\n        theadRow.className = theadRow.className.replace(' py-2', ' py-3');\n    }\n}\n\nfunction setAddCourse(){\n    if(eClass('addCourse')[0]){\n        eClass('addCourse')[0].style.height = eClass('addCourseBtn')[0].offsetHeight + 'px';\n        eClass('addCourseBtn')[0].style.width = eClass('addCourseBtn')[0].offsetHeight + 'px';\n        if(eClass('course').length > 2){\n            eClass('fa-plus')[0].style.color = 'rgba(150,150,150,0.8)';\n        }\n    }\n}\n"],"sourceRoot":""}
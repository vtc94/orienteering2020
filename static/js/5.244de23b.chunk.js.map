{"version":3,"sources":["components/Alert.js","components/events/CreateEvent.js","css/events/CreateEventStyle.js"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","CreateEvent","props","state","name","date","location","status","updateState","bind","handleSubmit","removeModal","clickedForm","CreateEventStyle","onclick","this","e","target","setState","value","today","Date","toISOString","substring","alert","preventDefault","error","timezone","getTimezoneOffset","creator","CookieHelpers","getCookie","SubmitDataHelpers","postData","toLowerCase","then","res","href","className","onMouseDown","autoComplete","onSubmit","type","onChange","placeholder","required","React","Component","setStyle","eId","style","minHeight","offsetWidth","innerWidth","innerHeight","borderRadius","parseInt","offsetHeight","replace","input","eClass","i","length","setInput","btn","setBtn","darkLightMode","userAgent","navigator","vendor","opera","test","addEventListener"],"mappings":"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","file":"static/js/5.244de23b.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React from 'react';\r\nimport {showAlert} from '../Alert';\r\nimport SubmitDataHelpers from '../helpers/SubmitDataHelpers.js';\r\nimport CookieHelpers from '../helpers/CookieHelpers';\r\n\r\nimport CreateEventStyle from '../../css/events/CreateEventStyle';\r\nimport '../../css/events/CreateEvent.css';\r\n\r\nclass CreateEvent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            date: '',\r\n            location: '',\r\n            status: 'Coming...',\r\n        };\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.removeModal = this.removeModal.bind(this);\r\n        this.clickedForm = this.clickedForm.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        CreateEventStyle();\r\n        document.getElementById(\"popUpModal\").onclick = this.removeModal;\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        CreateEventStyle();\r\n    }\r\n\r\n    updateState(e){\r\n        switch(e.target.name){\r\n            case 'name':\r\n                this.setState({\r\n                    name: e.target.value,\r\n                    date: this.state.date,\r\n                    location: this.state.location,\r\n                    status: this.state.status,\r\n                });\r\n                break;\r\n            case 'date':\r\n                let date = new Date();\r\n                let today = date.toISOString().substring(0,10);\r\n\r\n                if(e.target.value > today){\r\n                    this.setState({\r\n                        name: this.state.name,\r\n                        date: e.target.value,\r\n                        location: this.state.location,\r\n                        status: this.state.status,\r\n                    });\r\n                } else {\r\n                    alert(\"Date cannot be in the past\");\r\n                }\r\n                \r\n                break;\r\n            case 'location':\r\n                this.setState({\r\n                    name: this.state.name,\r\n                    date: this.state.date,\r\n                    location: e.target.value,\r\n                    status: this.state.status,\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        let error = '';\r\n\r\n        let date = new Date();\r\n        let today = date.toISOString().substring(0,10);\r\n        let timezone = date.getTimezoneOffset()/(-60) + \":00:00\";\r\n\r\n        if(this.state.date <= today){\r\n            error = 'Event date cannot be in the past.'\r\n        }\r\n\r\n        if(error === ''){\r\n            //let creator = window.sessionStorage.getItem(\"username\");\r\n            let cookieHelpers = new CookieHelpers;\r\n            let creator = cookieHelpers.getCookie(\"username\");\r\n\r\n            let helpers = new SubmitDataHelpers;\r\n\r\n            helpers.postData('/events/createevent/', \r\n            {\r\n                name: this.state.name.toLowerCase(),\r\n                date: this.state.date,\r\n                timezone: timezone,\r\n                location: this.state.location,\r\n                status: this.state.status,\r\n                creator: creator,\r\n            }).then((res) => {\r\n                //console.log(res); // JSON data parsed by `response.json()` call\r\n                if(res.error){\r\n                    //console.log(res.error);\r\n                    showAlert(res.error, 5000);\r\n\r\n                    this.setState({\r\n                        name: this.state.name,\r\n                        date: this.state.date,\r\n                        location: this.state.location,\r\n                        status: this.state.status,\r\n                        error: res.error\r\n                    }) \r\n                } else {\r\n                    window.location.href = \"/events\";\r\n                }\r\n            });\r\n        } else {\r\n            showAlert(error, 5000);\r\n\r\n            this.setState({\r\n                name: this.state.name,\r\n                date: this.state.date,\r\n                location: this.state.location,\r\n                status: this.state.status,\r\n                error: error\r\n            }) \r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div id=\"newEvent\" className=\"newEvent card shadow-lg pt-5\" onMouseDown={this.clickedForm}>\r\n                <h2 className=\"card-title mt-3\">{this.state.name == ''? 'New event' : this.state.name}</h2>\r\n                <form id=\"newEventForm\" className=\"card-body px-0\" autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n                    <input className=\"input px-2 py-1 mb-2\" type=\"text\" name=\"name\" value={this.state.name} \r\n                            onChange={this.updateState} placeholder=\"Event Name\" required \r\n                    /><br/>\r\n                    <input className=\"input px-2 py-1 my-1\" type=\"date\" name=\"date\" value={this.state.date} \r\n                            onChange={this.updateState} placeholder=\"Event Date\" required \r\n                    /><br/>\r\n                    <input className=\"input px-2 py-1 my-2\" type=\"text\" name=\"location\" value={this.state.location} \r\n                            onChange={this.updateState} placeholder=\"Location\" required \r\n                    /><br/>\r\n                    <input className=\"button btn mt-3\" type=\"submit\" value=\"Add event\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    clickedForm(){\r\n        this.setState({...this.state, ['clickedForm']: true});\r\n        //console.log(this.state.clickedForm);\r\n    }\r\n\r\n    removeModal(){\r\n        //console.log(this.state.clickedForm);\r\n        if(!this.state.clickedForm){\r\n            document.getElementById(\"popUpModal\").remove();\r\n        } else{\r\n            this.setState({...this.state, ['clickedForm']: null});\r\n        }\r\n    }\r\n}\r\n\r\nexport default CreateEvent;","import {eId, eClass, darkLightMode} from '../../components/helpers/StylingHelpers';\n\nfunction CreateEventStyle(){\n    setDarkLightMode();\n    setStyle();\n\n    var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    if (!(/android/i.test(userAgent))) {\n        window.addEventListener('resize', setStyle);\n    }\n}\n\nexport default CreateEventStyle;\n\nfunction setStyle(){\n    eId(\"newEvent\").style.minHeight = eId('newEvent').offsetWidth * 0.6 + 'px';\n\n    if(window.innerWidth > window.innerHeight){\n        eId('newEvent').style.borderRadius = parseInt(eId('newEvent').offsetHeight) * 0.07 + 'px';\n    } else {\n        eId('newEvent').style.borderRadius = parseInt(eId('newEvent').offsetWidth) * 0.07 + 'px';\n    }\n\n    if(eId('newEvent').offsetWidth > eId('newEvent').offsetHeight){\n        eId(\"newEventForm\").className = eId(\"newEventForm\").className.replace(\" mb-5\", \"\") + \" mb-5\";\n    } else {\n        eId(\"newEventForm\").className = eId(\"newEventForm\").className.replace(\" mb-1\",\"\") + \" mb-1\";\n    }\n\n    eId(\"newEventForm\").className = eId(\"newEventForm\").className.replace(\" card-body\",\"\") + \" card-body\";\n\n    setInput('input');\n    setBtn('btn');\n}\n\nfunction setDarkLightMode(){\n    darkLightMode(\"newEvent\");\n    darkLightMode('input');\n    darkLightMode('button');\n}\n\nfunction setInput(ref){\n    let input = eClass(ref);\n    for(let i = 0; i < input.length; i++){\n        input[i].style.borderRadius = input[0].offsetWidth * 0.025 + 'px';\n    }\n}\n\nfunction setBtn(ref){\n    let btn = eClass(ref);\n    for(let i = 0; i < btn.length; i++){\n        btn[i].style.borderRadius = btn[0].offsetWidth * 0.15 + 'px';\n    }\n}"],"sourceRoot":""}
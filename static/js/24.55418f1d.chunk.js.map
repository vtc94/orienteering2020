{"version":3,"sources":["components/Alert.js","components/courses/SingleCourse.js","components/courses lazy /^.*$/ groupOptions: {} namespace object"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","SingleCourse","props","state","helpers","SubmitDataHelpers","postData","event","toLowerCase","type","then","res","error","setState","history","back","path","date","Date","today","getFullYear","getMonth","getDate","eventDate","startTime","split","currentHour","getHours","currentMinute","getMinutes","currentSecond","getSeconds","h","m","s","timeLeft","location","reload","endTime","timeOver","Component","React","lazy","cookieHelpers","CookieHelpers","eventName","courseType","parName","getCookie","username","participant","this","component","fallback","course","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","e","Error","code","ids","all","slice","keys","Object","module","exports"],"mappings":"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","file":"static/js/24.55418f1d.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React, { Suspense } from 'react';\r\nimport {showAlert} from '../Alert';\r\nimport SubmitDataHelpers from '../helpers/SubmitDataHelpers';\r\nimport CookieHelpers from '../helpers/CookieHelpers';\r\n\r\nclass SingleCourse extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount(){\r\n        let helpers = new SubmitDataHelpers;\r\n        helpers.postData('/courses/displaySingleCourse', \r\n            {\r\n                event: window.sessionStorage.getItem(\"eventName\").toLowerCase(),\r\n                type: window.sessionStorage.getItem(\"courseType\"),\r\n            }\r\n        ).then((res) => {\r\n            //console.log(res); // JSON data parsed by `response.json()` call\r\n            if(res.error){\r\n                showAlert(res.error, 5000);\r\n\r\n                let state = {...this.state};\r\n                state.error = res.error;\r\n                this.setState(state);\r\n                window.history.back();\r\n            } else {\r\n                var path;\r\n                if(window.sessionStorage.getItem(\"view\") === \"creatorView\"){\r\n                    path = \"./creatorView\";\r\n                } else if(window.sessionStorage.getItem(\"view\") === \"playerView\") {\r\n                    path = \"./playerView\";\r\n                }\r\n\r\n                this.setState({...this.state, ['course']: res[0]});\r\n\r\n\r\n                let date = new Date();\r\n                let today = date.getFullYear() + '-' + (date.getMonth()<9? '0' + (date.getMonth()+1): date.getMonth() + 1) + '-' + (date.getDate()<9? '0' + date.getDate(): date.getDate());\r\n                let eventDate = window.sessionStorage.getItem(\"eventDate\");\r\n                \r\n                if(eventDate > today){\r\n                    path = path + '/CourseInfo';           \r\n                } else if(eventDate == today){\r\n                    //let currentTime = date.toLocaleTimeString().substring(0);\r\n                    let startTime = res[0].startTime + \":00\";\r\n                    startTime = startTime.split(\":\");\r\n                    //currentTime = currentTime.split(\":\");\r\n\r\n                    let currentHour = date.getHours();\r\n                    let currentMinute = date.getMinutes();\r\n                    let currentSecond = date.getSeconds();\r\n\r\n                    let h = (startTime[0] - currentHour);\r\n                    let m = (startTime[1] - currentMinute);\r\n                    let s = (startTime[2] - currentSecond);\r\n                    let timeLeft = h * 3600 + m * 60 + s;\r\n\r\n                    if(timeLeft > 0){\r\n                        path = path + '/CourseInfo';\r\n                        setTimeout(function(){window.location.reload()}, timeLeft * 1000);\r\n                    } else {\r\n                        let endTime = res[0].endTime + \":00\";\r\n                        endTime = endTime.split(\":\");\r\n                        h = (currentHour - endTime[0]);\r\n                        m = (currentMinute - endTime[1]);\r\n                        s = (currentSecond - endTime[2]);\r\n                        let timeOver = h * 3600 + m * 60 + s;\r\n\r\n                        if(timeOver < 0){\r\n                            path = path + '/CourseScan';\r\n                            setTimeout(function(){window.location.reload()}, (timeOver * (-1) * 1000));\r\n                        } else {\r\n                            path = path + '/CourseResult';\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    path = path + '/CourseResult';\r\n                }\r\n                //console.log(path);\r\n                const Component = React.lazy(() => import(`${path}`));\r\n\r\n                this.setState({...this.state, ['component']: Component});\r\n            }\r\n        });\r\n\r\n        let cookieHelpers = new CookieHelpers;\r\n\r\n        helpers.postData('/participants/isParticipant',\r\n            {\r\n                eventName: window.sessionStorage.getItem(\"eventName\").toLowerCase(),\r\n                courseType: window.sessionStorage.getItem(\"courseType\"),\r\n                parName: cookieHelpers.getCookie(\"username\")? cookieHelpers.getCookie(\"username\"): window.sessionStorage.username,\r\n            }\r\n        ).then(res => {\r\n            //console.log(res);\r\n            if(!res.error){\r\n                this.setState({participant: res[0].username});\r\n            } else {\r\n                //console.log(res);\r\n                showAlert(res.error, 5000);\r\n                \r\n                this.setState({error: res.error});\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const Component= this.state.component;\r\n        if(Component){\r\n            return this.state.participant? (\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                    <Component course={this.state.course} />\r\n                </Suspense>\r\n            ) : (\r\n                <div>\r\n                    You cannot access this course, you are {this.state.error}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return null\r\n    }\r\n}\r\n\r\nexport default SingleCourse;","var map = {\n\t\"./CreateCourse\": [\n\t\t22,\n\t\t32\n\t],\n\t\"./CreateCourse.js\": [\n\t\t22,\n\t\t32\n\t],\n\t\"./SingleCourse\": [\n\t\t29\n\t],\n\t\"./SingleCourse.js\": [\n\t\t29\n\t],\n\t\"./creatorView/CheckPoints\": [\n\t\t20,\n\t\t0,\n\t\t1,\n\t\t36\n\t],\n\t\"./creatorView/CheckPoints.js\": [\n\t\t20,\n\t\t0,\n\t\t1,\n\t\t36\n\t],\n\t\"./creatorView/CourseInfo\": [\n\t\t30,\n\t\t0,\n\t\t1,\n\t\t3\n\t],\n\t\"./creatorView/CourseInfo.js\": [\n\t\t30,\n\t\t0,\n\t\t1,\n\t\t3\n\t],\n\t\"./creatorView/CourseResult\": [\n\t\t23,\n\t\t37\n\t],\n\t\"./creatorView/CourseResult.js\": [\n\t\t23,\n\t\t37\n\t],\n\t\"./creatorView/CourseScan\": [\n\t\t24,\n\t\t38\n\t],\n\t\"./creatorView/CourseScan.js\": [\n\t\t24,\n\t\t38\n\t],\n\t\"./creatorView/Participants\": [\n\t\t21,\n\t\t40\n\t],\n\t\"./creatorView/Participants.js\": [\n\t\t21,\n\t\t40\n\t],\n\t\"./playerView/CourseInfo\": [\n\t\t31,\n\t\t4\n\t],\n\t\"./playerView/CourseInfo.js\": [\n\t\t31,\n\t\t4\n\t],\n\t\"./playerView/CourseResult\": [\n\t\t25,\n\t\t39\n\t],\n\t\"./playerView/CourseResult.js\": [\n\t\t25,\n\t\t39\n\t],\n\t\"./playerView/CourseScan\": [\n\t\t26,\n\t\t0,\n\t\t2,\n\t\t35\n\t],\n\t\"./playerView/CourseScan.js\": [\n\t\t26,\n\t\t0,\n\t\t2,\n\t\t35\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 515;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}
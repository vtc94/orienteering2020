{"version":3,"sources":["components/Alert.js","components/authentication/Login.js","css/authentication/AuthStyle.js"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","Login","props","state","username","password","updateState","bind","handleSubmit","AuthStyle","onSubmit","this","className","type","name","value","onChange","placeholder","required","e","target","setState","preventDefault","error","match","trim","length","SubmitDataHelpers","postData","activeId","cookieHelpers","getCookie","then","res","now","Date","expiredDate","toUTCString","CookieHelpers","setCookie","location","href","path","React","Component","setStyle","eId","replace","offsetWidth","offsetHeight","btn","eClass","i","style","borderRadius","setInput","setBtn","darkLightMode","getElementsByTagName","onresize"],"mappings":"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","file":"static/js/14.6b7bf708.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React from 'react';\r\nimport {showAlert} from '../Alert';\r\nimport SubmitDataHelpers from '../helpers/SubmitDataHelpers';\r\nimport CookieHelpers from '../helpers/CookieHelpers';\r\n\r\nimport AuthStyle from '../../css/authentication/AuthStyle';\r\nimport '../../css/authentication/Auth.css';\r\n\r\nclass Login extends  React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n        }\r\n\r\n        this.updateState = this.updateState.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        AuthStyle();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        AuthStyle();\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input className=\"input form-control col-sm-6 mb-2 mx-auto\" type=\"text\" name=\"username\" value={this.state.username} onChange={this.updateState} placeholder=\"Username...\" required/>\r\n                    <input className=\"input form-control col-sm-6 mb-2 mx-auto\" type=\"password\" name=\"password\" value={this.state.password} onChange={this.updateState} placeholder=\"Password...\" required/><br/>\r\n                    <input className=\"button btn\" type=\"submit\" value=\"Log In\" />\r\n                </form>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n\r\n    updateState(e){\r\n        if(e.target.name === 'username'){\r\n            this.setState({\r\n                username: e.target.value,\r\n                password: this.state.password,\r\n            })\r\n        } else {\r\n            this.setState({\r\n                username: this.state.username,\r\n                password: e.target.value\r\n            })\r\n        }\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n\r\n        var username = this.state.username;\r\n        var password = this.state.password;\r\n        \r\n        var error = '';\r\n        var userNameFomat = /[a-z\\d._]{4,}/;\r\n        var match = username.match(userNameFomat);\r\n        var passwordFormat = /[;=\\'\\\"\\s]/;\r\n\r\n        if(username.trim().length < 4) {\r\n            error = \"<p>Valid username contain at least 4 characters</p>\";\r\n        } else if(match == null || username.length != match[0].length){\r\n            error = \"<p>user can contain only letters, digits, \\\".\\\" and \\\"_\\\"</p>\";\r\n        } else if(password.trim() .length < 6) {\r\n            error = \"<p>Valid password contain at least 6 characters<p>\";\r\n        } else if(password.match(passwordFormat) != null){\r\n            error = \"<p>password cannot contain ; = ' \\\" and </p>\";\r\n        }\r\n\r\n        if(error === ''){\r\n            let helpers = new SubmitDataHelpers;\r\n\r\n            helpers.postData('/authentication/login/', \r\n                {\r\n                   username: username,\r\n                   password: password,\r\n                   activeId: cookieHelpers.getCookie('activeId')? cookieHelpers.getCookie('activeId'): '',\r\n                }\r\n            ).then((res) => {\r\n                //console.log(res); // JSON data parsed by `response.json()` call\r\n                if(res.error){\r\n                    //console.log(res.error);\r\n                    showAlert(res.error, 5000);\r\n\r\n                    this.setState({\r\n                        username: this.state.username,\r\n                        password: this.state.password,\r\n                        error: res.error\r\n                    }) \r\n                } else {\r\n                    let now = Date.now();\r\n                    let expiredDate = new Date(now + 14 * 86400);\r\n                    expiredDate = expiredDate.toUTCString();\r\n                \r\n                    let cookieHelpers = new CookieHelpers;\r\n                    cookieHelpers.setCookie(\"username\", res.username, expiredDate, \"/\");\r\n                    cookieHelpers.setCookie(\"activeId\", res.activeId, expiredDate, \"/\");\r\n\r\n                    window.sessionStorage.setItem(\"username\", res.username);\r\n                    window.sessionStorage.setItem(\"activeId\", res.activeId);\r\n                    window.location.href = window.sessionStorage.path + \"events/\";\r\n                }\r\n            });\r\n        } else {\r\n            showAlert(error, 5000);\r\n\r\n            this.setState({\r\n                username: this.state.username,\r\n                password: this.state.password,\r\n                error: error\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Login;\r\n","import {eId, eClass, darkLightMode} from '../../components/helpers/StylingHelpers';\n\nfunction AuthStyle(){\n    darkLightMode('main');\n    darkLightMode('input');\n    darkLightMode('button');\n    setStyle();\n    document.getElementsByTagName('body')[0].onresize = function(){setStyle()};\n}\n\nexport default AuthStyle;\n\nfunction setStyle(){\n    eId(\"app\").className = eId(\"app\").className.replace(\"container-fluid\", \"container\").replace(\" card shadow-lg\", \"\") + \" card shadow-lg\";\n    eId(\"app\").className = eId(\"app\").className.replace(\" pt-5\", \"\") + \" pt-5\";\n    \n    if(eId('app').offsetWidth > eId('app').offsetHeight){\n        eId(\"main\").className = eId(\"main\").className.replace(\" mb-5\", \"\") + \" mb-5\";\n    } else {\n        eId(\"main\").className = eId(\"main\").className.replace(\" mb-2\",\"\") + \" mb-2\";\n    }\n\n    eId(\"main\").className = eId(\"main\").className.replace(\" card-body\",\"\") + \" card-body\";\n\n    setInput('input');\n    setBtn('btn');\n}\n\nfunction setInput(ref){\n    let btn = eClass(ref);\n    for(let i = 0; i < btn.length; i++){\n        btn[i].style.borderRadius = btn[0].offsetWidth * 0.03 + 'px';\n    }\n}\n\nfunction setBtn(ref){\n    let btn = eClass(ref);\n    for(let i = 0; i < btn.length; i++){\n        btn[i].style.borderRadius = btn[0].offsetWidth * 0.15 + 'px';\n    }\n}\n"],"sourceRoot":""}
{"version":3,"sources":["components/Alert.js","components/events/PlayerAccess.js","css/events/PlayerAccessStyle.js"],"names":["showAlert","ref","showTime","document","getElementById","removeAlert","window","sessionStorage","getItem","clearTimeout","remove","div","createElement","id","innerHTML","body","appendChild","setTimeout","setItem","PlayerAccess","props","state","checkKey","bind","removeModal","clickedForm","PlayerAccessStyle","onclick","this","SubmitDataHelpers","postData","eventName","toLowerCase","then","res","error","setState","courseTypeOptions","courseTypes","map","type","value","key","className","onMouseDown","onMouseUp","autoComplete","onSubmit","e","preventDefault","name","defaultChecked","maxLength","placeholder","onChange","required","autoFocus","courseAccessKey","target","length","courseType","parentNode","eventDate","cookieHelpers","CookieHelpers","parName","getCookie","location","href","path","url","React","Component","setStyle","eId","style","minHeight","offsetWidth","innerWidth","innerHeight","borderRadius","parseInt","offsetHeight","replace","input","eClass","i","setInput","btn","setBtn","darkLightMode","userAgent","navigator","vendor","opera","test","addEventListener"],"mappings":"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","file":"static/js/6.ead2107f.chunk.js","sourcesContent":["let showAlert = function showAlert(ref, showTime){\n    if(document.getElementById('error')){\n        let removeAlert = window.sessionStorage.getItem(\"removeAlert\");\n        clearTimeout(removeAlert);\n        document.getElementById('error').remove();\n    }\n\n    let div = document.createElement('div');\n    div.id = 'error';\n    div.innerHTML = ''\n                + '<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\" style=\"text-align:center\">'\n                +    ref\n                +    '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">'\n                +    '<span aria-hidden=\"true\">&times;</span>'\n                +    '</button>'\n                + '</div>';\n    document.body.appendChild(div);\n\n    if(showTime != -1){\n        let removeAlert = setTimeout(function(){\n            if(document.getElementById('error')){\n                document.getElementById('error').remove();\n            }\n        }, showTime);\n\n        window.sessionStorage.setItem(\"removeAlert\", removeAlert);\n    }\n}\n\nexport {showAlert};","import React from 'react';\r\nimport {showAlert} from '../Alert';\r\nimport SubmitDataHelpers from '../helpers/SubmitDataHelpers.js';\r\nimport CookieHelpers from '../helpers/CookieHelpers';\r\n\r\nimport PlayerAccessStyle from '../../css/events/PlayerAccessStyle';\r\nimport '../../css/events/PlayerAccess.css';\r\n\r\nclass PlayerAccess extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {};\r\n        this.checkKey = this.checkKey.bind(this);\r\n        this.removeModal = this.removeModal.bind(this);\r\n        this.clickedForm = this.clickedForm.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        PlayerAccessStyle();\r\n\r\n        document.getElementById(\"popUpModal\").onclick = this.removeModal;\r\n\r\n        let helpers = new SubmitDataHelpers;\r\n \r\n        return helpers.postData('/courses/getCourseType',{\r\n            eventName: this.props.eventName.toLowerCase(),\r\n        }).then(res => {\r\n            if(!res.error){\r\n                this.setState({...this.state, ['courseTypes'] : res});\r\n                //console.log(this.state);\r\n            } else {\r\n                //console.log(res.error);\r\n                showAlert(res.error, 5000);   \r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        PlayerAccessStyle();\r\n    }\r\n\r\n    render(){\r\n        let courseTypes = this.state.courseTypes;\r\n        let courseTypeOptions;\r\n        if(courseTypes){\r\n            courseTypeOptions = courseTypes.map(type =>\r\n                <option value={type.type} key={type.type}>{type.type}</option>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <div id=\"playerAccess\" className=\"playerAccess card shadow-lg pt-5\" onMouseDown={this.clickedForm} onMouseUp={this.clickedForm}>\r\n                <h2 className=\"card-title mt-3\">{this.props.eventName}</h2>\r\n                <form id=\"accessForm\" className=\"card-body px-0\" autoComplete=\"off\" onSubmit={e => e.preventDefault()}>\r\n                    <select name=\"type\" className=\"custom-select-sm input my-3\">\r\n                        <option defaultChecked>Choose courses...</option>\r\n                        {courseTypeOptions}\r\n                    </select><br/>\r\n                    <input className=\"input px-2 py-1\"\r\n                        type=\"text\" name=\"accessKey\" maxLength=\"4\" placeholder=\"Enter access key\" \r\n                        onChange={this.checkKey}  \r\n                        required autoFocus\r\n                    />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    clickedForm(){\r\n        this.setState({...this.state, ['clickedForm']: true});\r\n        //console.log(this.state.clickedForm);\r\n    }\r\n\r\n    removeModal(){\r\n        //console.log(this.state.clickedForm);\r\n        if(!this.state.clickedForm){\r\n            document.getElementById(\"popUpModal\").remove();\r\n        } else{\r\n            this.setState({...this.state, ['clickedForm']: null});\r\n        }\r\n    }\r\n\r\n    checkKey(e){\r\n        this.setState({...this.state, ['error']: null});\r\n        let courseAccessKey = e.target.value;\r\n        //console.log(courseAccessKey);\r\n        if(courseAccessKey.length == 4){\r\n            let courseType = e.target.parentNode['type'].value;\r\n            \r\n            let helpers = new SubmitDataHelpers;\r\n \r\n            return helpers.postData('/courses/requestAccess',{\r\n                courseAccessKey: courseAccessKey,\r\n                courseType: courseType,\r\n                eventName: this.props.eventName.toLowerCase(),\r\n            }).then(res => {\r\n                if(!res.error){\r\n                    window.sessionStorage.setItem(\"eventName\", this.props.eventName);\r\n                    window.sessionStorage.setItem(\"courseType\", courseType);\r\n                    window.sessionStorage.setItem(\"courseAccessKey\", courseAccessKey);\r\n                    window.sessionStorage.setItem(\"view\", \"playerView\");\r\n                    window.sessionStorage.setItem(\"eventDate\", this.props.eventDate);\r\n                    \r\n                    let cookieHelpers = new CookieHelpers;\r\n                    let helpers = new SubmitDataHelpers;\r\n                    helpers.postData('/participants/addParticipant',\r\n                    {\r\n                        eventName: this.props.eventName,\r\n                        courseType: courseType,\r\n                        parName: cookieHelpers.getCookie(\"username\"),\r\n                    });\r\n\r\n                    window.location.href = window.sessionStorage.path + res.url;\r\n                } else {\r\n                    showAlert(res.error, 5000);\r\n                    //console.log(res.error);\r\n                    this.setState({...this.state, ['error']: res.error});\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default PlayerAccess;","import {eId, eClass, darkLightMode} from '../../components/helpers/StylingHelpers';\n\nfunction PlayerAccessStyle(){\n    setDarkLightMode();\n    setStyle();\n\n    var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    if (!(/android/i.test(userAgent))) {\n        window.addEventListener('resize', setStyle);\n    }\n}\n\nexport default PlayerAccessStyle;\n\nfunction setStyle(){\n    eId(\"playerAccess\").style.minHeight = eId('playerAccess').offsetWidth * 0.6 + 'px';\n\n    if(window.innerWidth > window.innerHeight){\n        eId('playerAccess').style.borderRadius = parseInt(eId('playerAccess').offsetHeight) * 0.07 + 'px';\n    } else {\n        eId('playerAccess').style.borderRadius = parseInt(eId('playerAccess').offsetWidth) * 0.07 + 'px';\n    }\n\n    if(eId('playerAccess').offsetWidth > eId('playerAccess').offsetHeight){\n        eId(\"accessForm\").className = eId(\"accessForm\").className.replace(\" mb-5\", \"\") + \" mb-5\";\n    } else {\n        eId(\"accessForm\").className = eId(\"accessForm\").className.replace(\" mb-2\",\"\") + \" mb-2\";\n    }\n\n    eId(\"accessForm\").className = eId(\"accessForm\").className.replace(\" card-body\",\"\") + \" card-body\";\n\n    setInput('input');\n    setBtn('btn');\n}\n\nfunction setDarkLightMode(){\n    darkLightMode(\"playerAccess\");\n    darkLightMode('input');\n    darkLightMode('button');\n}\n\nfunction setInput(ref){\n    let input = eClass(ref);\n    for(let i = 0; i < input.length; i++){\n        input[i].style.borderRadius = input[0].offsetWidth * 0.025 + 'px';\n    }\n}\n\nfunction setBtn(ref){\n    let btn = eClass(ref);\n    for(let i = 0; i < btn.length; i++){\n        btn[i].style.borderRadius = btn[0].offsetWidth * 0.15 + 'px';\n    }\n}"],"sourceRoot":""}
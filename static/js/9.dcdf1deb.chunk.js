(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9,27,28,36,48,69],{17:function(e,t,n){"use strict";n.r(t),n.d(t,"showAlert",(function(){return a}));var a=function(e,t){if(document.getElementById("error")){var n=window.sessionStorage.getItem("removeAlert");clearTimeout(n),document.getElementById("error").remove()}var a=document.createElement("div");if(a.id="error",a.innerHTML='<div class="alert alert-warning alert-dismissible fade show" role="alert" style="text-align:center">'+e+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>',document.body.appendChild(a),-1!=t){var o=setTimeout((function(){document.getElementById("error")&&document.getElementById("error").remove()}),t);window.sessionStorage.setItem("removeAlert",o)}}},184:function(e,t){},185:function(e,t){},20:function(e,t,n){"use strict";n.r(t);var a=n(5),o=n(7),c=n.n(o),s=n(14),i=n(27),r=n(2),d=n(11),l=n(46),u=n(12),h=n(13),p=n(1),m=n.n(p),f=n(47),b=n.n(f),v=n(269),k=n.n(v),g=n(270),w=n.n(g),y=n(278),j=n.n(y),C=n(17),E=n(3),O=n(54),N=(n(81),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={},a.renderQRCodeList=a.renderQRCodeList.bind(Object(l.a)(a)),a.clickedqrCodesModal=a.clickedqrCodesModal.bind(Object(l.a)(a)),a.removeModal=a.removeModal.bind(Object(l.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getCheckPoints(),Object(O.default)()}},{key:"componentDidUpdate",value:function(){}},{key:"getCheckPoints",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,o,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.a)({},this.props.event),n=Object(s.a)({},this.props.checkPoints),a=new E.default,e.next=5,a.postData("/checkpoints/getCheckPoints/",{checkPointNo:n.checkPointNo,firstCheckPoint:n.firstCheckPoint}).then((function(e){return e.error?(Object(C.showAlert)(e.error,5e3),console.log(e),!1):(e.forEach((function(e){e.code+="-"+t.eventName,e.code+="-"+t.courseType,e.code+="-"+n.firstCheckPoint,e.code+="-"+n.checkPointNo,e.code+="-"+e.point})),i.setState({checkPoints:e}),e)}));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement("button",{className:"button ciSubmit col-5",onClick:this.renderQRCodeList},"Show ",this.props.checkPoints.checkPointNo,"\xa0",window.innerWidth<576?m.a.createElement("i",{className:"fas fa-qrcode"}):"QRCodes")}},{key:"renderQRCodeList",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a,o,s,i,r,d=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.getCheckPoints();case 3:for(i in n=e.sent,a=[],o=[],s=function(e){var t=n[e];o.push(m.a.createElement("div",{className:"checkpoint tr row py-2",key:t.id,value:t.id},m.a.createElement("div",{className:"td col-2 d-flex justify-content-center align-items-center"},m.a.createElement("span",null,t.id)),m.a.createElement("div",{className:"td col-6 d-flex justify-content-center align-items-center"},m.a.createElement(k.a,{key:t.id,id:t.id,value:t.code,size:50,level:"H"})),m.a.createElement("div",{className:"td col-4 d-flex justify-content-center align-items-center"},m.a.createElement("span",null,m.a.createElement("input",{type:"number",min:"0",max:"10",defaultValue:t.point,onChange:function(t){d.updateScore(t,e)}})))))},n)s(i);return a.push(m.a.createElement("div",{key:"checkpoints",id:"checkpoints",className:"checkpoints card shadow-lg pt-4 px-3 px-sm-4",onMouseDown:this.clickedqrCodesModal},m.a.createElement("div",{className:"card-title mt-3"},m.a.createElement("h2",null,this.props.event.eventName),m.a.createElement("h4",null,"\u2663\xa0 ",this.props.event.courseType," \xa0\u2663")),m.a.createElement("div",{className:"checkpointsTable mx-auto mb-4 mt-2 mt-sm-4 shadow px-2 pt-2 pb-0 border"},m.a.createElement("div",{className:"tcaption text-left pl-1 pt-1 pb-2"},"QRCodes ( ",n?n.length:"0"," qrCode(s) )"),m.a.createElement("div",{className:"table mx-auto border"},m.a.createElement("div",{className:"thead col-12"},m.a.createElement("div",{className:"tr row py-3"},m.a.createElement("div",{className:"th col-2"},"ID"),m.a.createElement("div",{className:"th col-6"},"QRcode"),m.a.createElement("div",{className:"th col-4"},"Point"))),m.a.createElement("div",{id:"qrCodes",className:"tbody col-12 overflow-auto"},o)),m.a.createElement("div",{className:"downloadqrCodes col-12 d-flex justify-content-end"},m.a.createElement("button",{className:"btn border-bottom col-8 col-sm-5 px-2",onClick:this.downloadQRCode},window.innerWidth>576?"Download":m.a.createElement("i",{className:"fas fa-download"}),"\xa0",this.props.checkPoints.checkPointNo," QRCodes"))))),(r=document.createElement("div")).id="popUpModal",r.className="popUpModal",r.onclick=this.removeModal,"on"==window.localStorage.getItem("darkThemeMode")&&(r.className+=" dark-popUpModal"),document.body.appendChild(r),e.next=17,b.a.render(a,r);case 17:Object(O.default)();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickedqrCodesModal",value:function(){this.setState(Object(s.a)({},this.state,Object(a.a)({},"showModal",!0)))}},{key:"removeModal",value:function(){this.state.showModal?this.setState(Object(s.a)({},this.state,Object(a.a)({},"showModal",null))):document.getElementById("popUpModal").remove()}},{key:"updateScore",value:function(e,t){var n=this.state.checkPoints;n[t].point=e.target.value,n[t].code=n[t].code.substring(0,n[t].code.length-2)+"-"+e.target.value,this.setState({checkPoints:n})}},{key:"updateMsg",value:function(e,t){}},{key:"downloadQRCode",value:function(){var e=window.sessionStorage.getItem("eventName"),t=window.sessionStorage.getItem("courseType"),n=new w.a,a=n.folder("QRCodes("+e+"-"+t+")"),o=document.getElementById("qrCodes").getElementsByTagName("canvas");Object.keys(o).forEach((function(e){document.createElement("a");var t=o[e].toDataURL().replace(/^data:image\/(png|jpg);base64,/,"");a.file("check_point_"+e+".jpg",t,{base64:!0})})),n.generateAsync({type:"blob"}).then((function(n){j.a.saveAs(n,"QRCodes("+e+"-"+t+").zip")}))}}]),n}(m.a.Component));t.default=N},54:function(e,t,n){"use strict";n.r(t);var a=n(0);function o(){if(!Object(a.eId)("qrCodes"))return!1;Object(a.eId)("checkpoints").style.height=.8*window.innerHeight+"px",window.innerWidth>window.innerHeight?Object(a.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(a.eId)("checkpoints").offsetHeight)+"px":Object(a.eId)("checkpoints").style.borderRadius=.07*parseInt(Object(a.eId)("checkpoints").offsetWidth)+"px";var e=Object(a.eClass)("checkpointsTable")[0];e.style.height=.8*(Object(a.eId)("checkpoints").offsetTop+Object(a.eId)("checkpoints").offsetHeight-e.offsetTop)+"px",Object(a.eClass)("table")[0].style.height=0,Object(a.eClass)("table")[0].style.height=1*(Object(a.eClass)("downloadqrCodes")[0].offsetTop-Object(a.eClass)("table")[0].offsetTop)-.03*e.offsetHeight+"px",Object(a.eClass)("tbody")[0].style.height=Object(a.eClass)("table")[0].offsetHeight-Object(a.eClass)("thead")[0].offsetHeight+"px",function(e){for(var t=Object(a.eClass)(e),n=0;n<t.length;n++)t[n].style.borderRadius=.15*t[0].offsetWidth+"px"}("btn")}t.default=function(){Object(a.darkLightMode)("checkpoints"),Object(a.darkLightMode)("input"),Object(a.darkLightMode)("button"),o();var e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||window.addEventListener("resize",o)}},81:function(e,t,n){}}]);